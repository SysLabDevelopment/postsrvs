!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(s){o=!0,i=s}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"1CbX":function(r,o,i){"use strict";i.r(o),i.d(o,"DrawPageModule",(function(){return m}));var a=i("SVse"),c=i("s7LF"),s=i("iInd"),l=i("sZkV"),u=i("fXoL"),h=["myCanvas"];function b(t,e){1&t&&(u.Lb(0,"div",7),u.qc(1,"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0434\u043f\u0438\u0441\u044c"),u.Kb())}function f(t,e,r,o){var i=n(function(t){if(":"===t[0]){var e=t.match(/^:([^:]+):(.+)$/);return[e[1],e[2]]}return["",t]}(r),2),a=i[0],c=i[1];null!=o?t.setAttribute(e,c,o,a):t.removeAttribute(e,c,a)}var p,d,v=[{path:"",component:(p=function(){function n(e,r,o,i){t(this,n),this.platform=e,this.router=r,this.renderer=o,this.location=i,this.isClear=!0,this.error_mes=!1,this.currentColour="#000000",this.brushSize=10,this.save_process=!1}var r,o,i;return r=n,(o=[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){this.canvasElement=this.canvas.nativeElement,f(this.renderer,this.canvasElement,"width",this.platform.width()+""),f(this.renderer,this.canvasElement,"height",this.platform.height()+"")}},{key:"handleStart",value:function(t){this.lastX=t.touches[0].pageX,this.lastY=t.touches[0].pageY}},{key:"clearCanvas",value:function(){this.isClear=!0,this.canvasElement.getContext("2d").clearRect(0,0,this.canvasElement.width,this.canvasElement.height)}},{key:"handleMove",value:function(t){this.isClear=!1,this.error_mes=!1;var e=this.canvasElement.getContext("2d"),n=t.touches[0].pageX,r=t.touches[0].pageY;e.beginPath(),e.lineJoin="round",e.moveTo(this.lastX,this.lastY),e.lineTo(n,r),e.closePath(),e.strokeStyle=this.currentColour,e.lineWidth=this.brushSize,e.stroke(),this.lastX=n,this.lastY=r}},{key:"saveImage",value:function(){if(this.isClear)return this.error_mes=!0,!1;console.log("save_image_call");var t=this.canvasElement.toDataURL();t=t.split(",")[1],localStorage.setItem("drawImg",t),this.back()}},{key:"back",value:function(){this.location.back()}}])&&e(r.prototype,o),i&&e(r,i),n}(),p.\u0275fac=function(t){return new(t||p)(u.Ib(l.I),u.Ib(s.g),u.Ib(u.D),u.Ib(a.h))},p.\u0275cmp=u.Cb({type:p,selectors:[["app-draw"]],viewQuery:function(t,e){var n;1&t&&u.nc(h,!0),2&t&&u.ic(n=u.Ub())&&(e.canvas=n.first)},decls:15,vars:1,consts:[[3,"touchstart","touchmove"],["myCanvas",""],["class","error",4,"ngIf"],[1,"btns"],[1,"save-btn",3,"click"],[1,"save-btn","clear-btn",3,"click"],[1,"save-btn","back",3,"click"],[1,"error"]],template:function(t,e){1&t&&(u.Lb(0,"ion-header"),u.Lb(1,"ion-toolbar"),u.Lb(2,"ion-title"),u.qc(3,"\u041f\u043e\u0434\u043f\u0438\u0441\u044c"),u.Kb(),u.Kb(),u.Kb(),u.Lb(4,"ion-content"),u.Lb(5,"canvas",0,1),u.Tb("touchstart",(function(t){return e.handleStart(t)}))("touchmove",(function(t){return e.handleMove(t)})),u.Kb(),u.pc(7,b,2,0,"div",2),u.Lb(8,"div",3),u.Lb(9,"button",4),u.Tb("click",(function(){return e.saveImage()})),u.qc(10,"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"),u.Kb(),u.Lb(11,"button",5),u.Tb("click",(function(){return e.clearCanvas()})),u.qc(12,"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"),u.Kb(),u.Lb(13,"button",6),u.Tb("click",(function(){return e.back()})),u.qc(14,"\u041d\u0430\u0437\u0430\u0434"),u.Kb(),u.Kb(),u.Kb()),2&t&&(u.yb(7),u.cc("ngIf",e.error_mes))},directives:[l.k,l.E,l.D,l.i,a.l],styles:["canvas[_ngcontent-%COMP%]{display:block;border:1px solid #bbb2b2;height:75%;width:100%}#wrp[_ngcontent-%COMP%]{height:100%;overflow:hidden}.btns[_ngcontent-%COMP%]{position:absolute;margin:0 auto;bottom:10px;left:0;right:0;height:100px;display:flex;justify-content:center;align-items:center;z-index:9999999}.save-btn[_ngcontent-%COMP%]{height:50px;width:300px;background:#474fc8;color:#fff;width:30%;margin:0 4px}.clear-btn[_ngcontent-%COMP%], .save-btn[_ngcontent-%COMP%]{outline:none}.mi-table[_ngcontent-%COMP%]{display:grid;grid-template-rows:40px auto;border:1px solid #e4e4e4}.m-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:120px 180px 180px 120px 100px 100px 100px 100px 150px 150px;min-height:40px}.m-col[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.scroll-row[_ngcontent-%COMP%]{box-shadow:-2px 0 .5px .5px #e4e4e4}.m-row-h[_ngcontent-%COMP%]{border-bottom:1px solid #e4e4e4}.m-col[_ngcontent-%COMP%]{border-left:1px solid #e4e4e4}.m-col[_ngcontent-%COMP%]:first-child{border-left:none}.ion-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.error[_ngcontent-%COMP%]{color:red;width:100%;text-align:center}"]}),p)}],m=((d=function e(){t(this,e)}).\u0275mod=u.Gb({type:d}),d.\u0275inj=u.Fb({factory:function(t){return new(t||d)},imports:[[a.c,c.b,l.F,s.i.forChild(v)]]}),d)}}])}();