{"version":3,"sources":["./src/app/pages/draw/draw.module.ts","./src/app/pages/draw/draw.page.ts","./src/app/pages/draw/draw.page.html"],"names":[],"mappings":"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","file":"pages-draw-draw-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DrawPage } from './draw.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DrawPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [DrawPage]\n})\nexport class DrawPageModule {}\n","import { Component, OnInit, ViewChild, Renderer2 } from '@angular/core';\nimport { Platform } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { Location } from '@angular/common';\n@Component({\n  selector: 'app-draw',\n  templateUrl: './draw.page.html',\n  styleUrls: ['./draw.page.scss'],\n})\nexport class DrawPage implements OnInit {\n  ngOnInit() { }\n\n  @ViewChild('myCanvas', { static: true }) canvas: any;\n\n  canvasElement: any;\n  lastX: number;\n  lastY: number;\n  isClear: boolean = true;\n  error_mes: boolean = false;\n  currentColour: string = '#000000';\n  brushSize: number = 10;\n\n  public save_process: boolean = false;\n  constructor(private platform: Platform, public router: Router, public renderer: Renderer2, private location: Location) {\n\n  }\n  ngAfterViewInit() {\n\n    this.canvasElement = this.canvas.nativeElement;\n\n    __ngRendererSetElementAttributeHelper(this.renderer, this.canvasElement, 'width', this.platform.width() + '');\n    __ngRendererSetElementAttributeHelper(this.renderer, this.canvasElement, 'height', this.platform.height() + '');\n\n  }\n\n  handleStart(ev) {\n\n    this.lastX = ev.touches[0].pageX;\n    this.lastY = ev.touches[0].pageY;\n  }\n\n  clearCanvas() {\n    this.isClear = true;\n    let ctx = this.canvasElement.getContext('2d');\n    ctx.clearRect(0, 0, this.canvasElement.width, this.canvasElement.height);\n\n  }\n\n  handleMove(ev) {\n    this.isClear = false;\n    this.error_mes = false;\n    let ctx = this.canvasElement.getContext('2d');\n    let currentX = ev.touches[0].pageX;\n    let currentY = ev.touches[0].pageY;\n\n    ctx.beginPath();\n    ctx.lineJoin = \"round\";\n    ctx.moveTo(this.lastX, this.lastY);\n    ctx.lineTo(currentX, currentY);\n    ctx.closePath();\n    ctx.strokeStyle = this.currentColour;\n    ctx.lineWidth = this.brushSize;\n    ctx.stroke();\n\n    this.lastX = currentX;\n    this.lastY = currentY;\n\n  }\n\n  public saveImage() {\n    if (this.isClear) {\n      this.error_mes = true;\n      return false;\n    }\n    console.log('save_image_call');\n    var code = this.canvasElement.toDataURL();\n    code = code.split(',')[1];\n    localStorage.setItem('drawImg', code);\n    this.back();\n  }\n\n  public back() {\n    this.location.back();\n  }\n\n}\n\ntype AnyDuringRendererMigration = any;\n\nfunction __ngRendererSplitNamespaceHelper(name: AnyDuringRendererMigration) {\n  if (name[0] === \":\") {\n    const match = name.match(/^:([^:]+):(.+)$/);\n    return [match[1], match[2]];\n  }\n  return [\"\", name];\n}\n\nfunction __ngRendererSetElementAttributeHelper(renderer: AnyDuringRendererMigration, element: AnyDuringRendererMigration, namespaceAndName: AnyDuringRendererMigration, value?: AnyDuringRendererMigration) {\n  const [namespace, name] = __ngRendererSplitNamespaceHelper(namespaceAndName);\n  if (value != null) {\n    renderer.setAttribute(element, name, value, namespace);\n  }\n  else {\n    renderer.removeAttribute(element, name, namespace);\n  }\n}\n","<ion-header>\n  <ion-toolbar>\n    <ion-title>Подпись</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <canvas #myCanvas (touchstart)=\"handleStart($event)\" (touchmove)=\"handleMove($event)\"></canvas>\n  <div class=\"error\" *ngIf=\"error_mes\">Необходимо оставить подпись</div>\n  <div class=\"btns\">\n    <button class=\"save-btn\" (click)=\"saveImage()\">Отправить</button>\n    <button class=\"save-btn clear-btn\" (click)=\"clearCanvas()\">Очистить</button>\n    <button class=\"save-btn back\" (click)=\"back()\">Назад</button>\n  </div>\n\n</ion-content>\n"],"sourceRoot":"webpack:///"}