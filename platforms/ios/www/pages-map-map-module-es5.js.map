{"version":3,"sources":["webpack:///node_modules/angular-split/fesm2015/angular-split.js","webpack:///src/app/components/order/order.component.ts","webpack:///src/app/components/order/order.component.html","webpack:///src/app/pages/map/map.module.ts","webpack:///src/app/pages/map/map.page.html","webpack:///src/app/pages/map/map.page.ts"],"names":["_c0","SplitComponent_ng_template_1_div_0_Template","rf","ctx","_r6","SplitComponent_ng_template_1_div_0_Template_div_mousedown_0_listener","$event","index_r1","index","ctx_r5","startDragging","SplitComponent_ng_template_1_div_0_Template_div_touchstart_0_listener","ctx_r8","SplitComponent_ng_template_1_div_0_Template_div_mouseup_0_listener","ctx_r10","clickGutter","SplitComponent_ng_template_1_div_0_Template_div_touchend_0_listener","ctx_r12","ctx_r3","gutterSize","SplitComponent_ng_template_1_Template","last_r2","last","_c1","getPointFromEvent","event","changedTouches","undefined","length","x","clientX","y","clientY","getElementPixelSize","elRef","direction","rect","nativeElement","getBoundingClientRect","width","height","getInputBoolean","v","getInputPositiveNumber","defaultValue","Number","isNaN","isUserSizesValid","unit","sizes","total","reduce","s","every","filter","getAreaMinSize","a","size","component","lockSize","minSize","getAreaMaxSize","maxSize","getGutterSideAbsorptionCapacity","sideAreas","pixels","allAreasSizePixel","acc","area","res","getAreaAbsorptionCapacity","remain","list","push","pixelRemain","areaSnapshot","pixelAbsorb","percentAfterAbsorption","sizePercentAtStart","sizePixelAtStart","getAreaAbsorptionCapacityPercent","getAreaAbsorptionCapacityPixel","tempPixelSize","tempPercentSize","maxSizePixel","minSizePixel","containerSizePixel","updateAreaSize","item","SplitComponent","ngZone","cdRef","renderer","_direction","_unit","_gutterSize","_gutterStep","_restrictMove","_useTransition","_disabled","_dir","_gutterDblClickDuration","dragStart","dragEnd","gutterClick","gutterDblClick","dragProgressSubject","dragProgress$","asObservable","isDragging","isWaitingClear","dragListeners","snapshot","startPoint","endPoint","displayedAreas","hidedAreas","_clickTimeout","runOutsideAngular","setTimeout","addClass","newArea","order","visible","build","some","find","splice","indexOf","resetOrders","resetSizes","areas","comp","forEach","map","formatedSizes","isValid","i","_size","stopDragging","sort","b","setStyleOrder","useUserSizes","defaultSize","wildcardSizeAreas","alreadyGotOne","refreshStyleSizes","markForCheck","setStyleFlex","sumGutterSize","getNbGutters","gutterNum","tempPoint","window","clearTimeout","notify","gutterDblClickDuration","gutterOrder","preventDefault","stopPropagation","disabled","lastSteppedOffset","allInvolvedAreasSizePercent","areasBeforeGutter","areasAfterGutter","restrictMove","unshift","t","listen","bind","dragEvent","lockEvents","gutterEls","toArray","offset","dir","steppedOffset","Math","round","gutterStep","areasBefore","areasAfter","abs","all","areaToReset","unlockEvents","fct","pop","removeClass","type","getVisibleAreaSizes","emit","transitionEndSubscriber","run","next","setAttribute","subscriber","pipe","ɵfac","SplitComponent_Factory","ɵcmp","selectors","viewQuery","SplitComponent_Query","_t","inputs","useTransition","outputs","transitionEnd","exportAs","ngContentSelectors","decls","vars","consts","template","SplitComponent_Template","directives","styles","changeDetection","ctorParameters","propDecorators","args","selector","OnPush","encapsulation","Emulated","SplitAreaDirective","split","_order","_minSize","_maxSize","_lockSize","_visible","lockListeners","addArea","transitionListener","propertyName","value","setStyle","grow","shrink","basis","isMin","isMax","e","removeArea","updateArea","showArea","hideArea","SplitAreaDirective_Factory","ɵdir","AngularSplitModule","ngModule","providers","ɵmod","ɵinj","factory","AngularSplitModule_Factory","imports","ngJitMode","declarations","exports","OrderComponent","console","log","content","document","querySelector","innerHTML","options","navigation","nextEl","prevEl","slides","templateUrl","styleUrls","routes","path","MapPageModule","forRoot","forChild","bootstrap","MapPage","state$","platform","router","settings","courier","sys","sysMap","auth","nav","navCtrl","popoverController","data","storage","userId","localStorage","user","isMapPreparing","out_process","out_counter","local_stop$","icons","existsGeos","sliderOptions","origin","lat","lng","routeToOrder","currentOrder","ordersShortData","subscribe","orders","state","getOrdersId","ids","getOrders","rules","appMode","toLowerCase","includes","drawData","autoStartRoute","g_state","initContent","infoUpdated","customData","label","String","client_id","clear","detachMap","loadMap","ready","then","getMyLocation","myLocation","coords","lt","latLng","lg","interval_1ss","orderId","getItem","orderDetails","preferences","building","clickableIcons","padding","bottom","controls","myLocationButton","zoom","compass","indoorPicker","camera","target","gestures","attachMap","checkAuth","AppVersion","version","success","logout","on","POI_CLICK","params","coordinates","setCameraTarget","setCameraZoom","typeRoute","id","getWay","resp","markeredOrders","info","createInfoContent","requestDirection","addCluster","url","action","self","sendPost","sync_id","getSettings","setUser","getBalance","ordersInfo","res_more","count_orders","set","markerCluster","addMarkerClusterSync","maxZoomLevel","markers","boundsDraw","min","color","bold","fontSize","anchor","MARKER_CLICK","marker","popover","get","present","sameGeoOrders","iOrder","tabsContent","note","from","datetime_from","arrows","slice","datetime_to","client_fio","client_name","frame","createElement","div","innerText","appendChild","ev","create","translucent","componentProps","cssClass","destination","route","result","JSON","stringify","bounds","addDirectionsRendererSync","DIRECTIONS_CHANGED","onDirectionChanged","decodedPoints","getPlugin","geometry","encoding","decodePath","overview_polyline","addPolyline","points","geodesic","addMarkerSync","position","directions","getDirections","legs","start_location","end_location","animateCamera","p_btn","onSplitterDragEnd"],"mappings":"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","file":"pages-map-map-module-es5.js","sourcesContent":["import { EventEmitter, Component, ChangeDetectionStrategy, ViewEncapsulation, NgZone, ElementRef, ChangeDetectorRef, Renderer2, Input, Output, ViewChildren, Directive, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Subject, Observable } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} event\n * @return {?}\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common';\n\nconst _c0 = [\"gutterEls\"];\nfunction SplitComponent_ng_template_1_div_0_Template(rf, ctx) { if (rf & 1) {\n    const _r6 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"div\", 2, 3);\n    ɵngcc0.ɵɵlistener(\"mousedown\", function SplitComponent_ng_template_1_div_0_Template_div_mousedown_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r6); const index_r1 = ɵngcc0.ɵɵnextContext().index; const ctx_r5 = ɵngcc0.ɵɵnextContext(); return ctx_r5.startDragging($event, index_r1 * 2 + 1, index_r1 + 1); })(\"touchstart\", function SplitComponent_ng_template_1_div_0_Template_div_touchstart_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r6); const index_r1 = ɵngcc0.ɵɵnextContext().index; const ctx_r8 = ɵngcc0.ɵɵnextContext(); return ctx_r8.startDragging($event, index_r1 * 2 + 1, index_r1 + 1); })(\"mouseup\", function SplitComponent_ng_template_1_div_0_Template_div_mouseup_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r6); const index_r1 = ɵngcc0.ɵɵnextContext().index; const ctx_r10 = ɵngcc0.ɵɵnextContext(); return ctx_r10.clickGutter($event, index_r1 + 1); })(\"touchend\", function SplitComponent_ng_template_1_div_0_Template_div_touchend_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r6); const index_r1 = ɵngcc0.ɵɵnextContext().index; const ctx_r12 = ɵngcc0.ɵɵnextContext(); return ctx_r12.clickGutter($event, index_r1 + 1); });\n    ɵngcc0.ɵɵelement(2, \"div\", 4);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const index_r1 = ɵngcc0.ɵɵnextContext().index;\n    const ctx_r3 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵstyleProp(\"flex-basis\", ctx_r3.gutterSize, \"px\")(\"order\", index_r1 * 2 + 1);\n} }\nfunction SplitComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, SplitComponent_ng_template_1_div_0_Template, 3, 4, \"div\", 1);\n} if (rf & 2) {\n    const last_r2 = ctx.last;\n    ɵngcc0.ɵɵproperty(\"ngIf\", last_r2 === false);\n} }\nconst _c1 = [\"*\"];\nfunction getPointFromEvent(event) {\n    // TouchEvent\n    if (((/** @type {?} */ (event))).changedTouches !== undefined && ((/** @type {?} */ (event))).changedTouches.length > 0) {\n        return {\n            x: ((/** @type {?} */ (event))).changedTouches[0].clientX,\n            y: ((/** @type {?} */ (event))).changedTouches[0].clientY,\n        };\n    }\n    // MouseEvent\n    else if (((/** @type {?} */ (event))).clientX !== undefined && ((/** @type {?} */ (event))).clientY !== undefined) {\n        return {\n            x: ((/** @type {?} */ (event))).clientX,\n            y: ((/** @type {?} */ (event))).clientY,\n        };\n    }\n    return null;\n}\n/**\n * @param {?} elRef\n * @param {?} direction\n * @return {?}\n */\nfunction getElementPixelSize(elRef, direction) {\n    /** @type {?} */\n    const rect = ((/** @type {?} */ (elRef.nativeElement))).getBoundingClientRect();\n    return direction === 'horizontal' ? rect.width : rect.height;\n}\n/**\n * @param {?} v\n * @return {?}\n */\nfunction getInputBoolean(v) {\n    return typeof v === 'boolean' ? v : v === 'false' ? false : true;\n}\n/**\n * @template T\n * @param {?} v\n * @param {?} defaultValue\n * @return {?}\n */\nfunction getInputPositiveNumber(v, defaultValue) {\n    if (v === null || v === undefined)\n        return defaultValue;\n    v = Number(v);\n    return !isNaN(v) && v >= 0 ? v : defaultValue;\n}\n/**\n * @param {?} unit\n * @param {?} sizes\n * @return {?}\n */\nfunction isUserSizesValid(unit, sizes) {\n    // All sizes have to be not null and total should be 100\n    if (unit === 'percent') {\n        /** @type {?} */\n        const total = sizes.reduce((/**\n         * @param {?} total\n         * @param {?} s\n         * @return {?}\n         */\n        (total, s) => (s !== null ? total + s : total)), 0);\n        return sizes.every((/**\n         * @param {?} s\n         * @return {?}\n         */\n        (s) => s !== null)) && total > 99.9 && total < 100.1;\n    }\n    // A size at null is mandatory but only one.\n    if (unit === 'pixel') {\n        return sizes.filter((/**\n         * @param {?} s\n         * @return {?}\n         */\n        (s) => s === null)).length === 1;\n    }\n}\n/**\n * @param {?} a\n * @return {?}\n */\nfunction getAreaMinSize(a) {\n    if (a.size === null) {\n        return null;\n    }\n    if (a.component.lockSize === true) {\n        return a.size;\n    }\n    if (a.component.minSize === null) {\n        return null;\n    }\n    if (a.component.minSize > a.size) {\n        return a.size;\n    }\n    return a.component.minSize;\n}\n/**\n * @param {?} a\n * @return {?}\n */\nfunction getAreaMaxSize(a) {\n    if (a.size === null) {\n        return null;\n    }\n    if (a.component.lockSize === true) {\n        return a.size;\n    }\n    if (a.component.maxSize === null) {\n        return null;\n    }\n    if (a.component.maxSize < a.size) {\n        return a.size;\n    }\n    return a.component.maxSize;\n}\n/**\n * @param {?} unit\n * @param {?} sideAreas\n * @param {?} pixels\n * @param {?} allAreasSizePixel\n * @return {?}\n */\nfunction getGutterSideAbsorptionCapacity(unit, sideAreas, pixels, allAreasSizePixel) {\n    return sideAreas.reduce((/**\n     * @param {?} acc\n     * @param {?} area\n     * @return {?}\n     */\n    (acc, area) => {\n        /** @type {?} */\n        const res = getAreaAbsorptionCapacity(unit, area, acc.remain, allAreasSizePixel);\n        acc.list.push(res);\n        acc.remain = res.pixelRemain;\n        return acc;\n    }), { remain: pixels, list: [] });\n}\n/**\n * @param {?} unit\n * @param {?} areaSnapshot\n * @param {?} pixels\n * @param {?} allAreasSizePixel\n * @return {?}\n */\nfunction getAreaAbsorptionCapacity(unit, areaSnapshot, pixels, allAreasSizePixel) {\n    // No pain no gain\n    if (pixels === 0) {\n        return {\n            areaSnapshot,\n            pixelAbsorb: 0,\n            percentAfterAbsorption: areaSnapshot.sizePercentAtStart,\n            pixelRemain: 0,\n        };\n    }\n    // Area start at zero and need to be reduced, not possible\n    if (areaSnapshot.sizePixelAtStart === 0 && pixels < 0) {\n        return {\n            areaSnapshot,\n            pixelAbsorb: 0,\n            percentAfterAbsorption: 0,\n            pixelRemain: pixels,\n        };\n    }\n    if (unit === 'percent') {\n        return getAreaAbsorptionCapacityPercent(areaSnapshot, pixels, allAreasSizePixel);\n    }\n    if (unit === 'pixel') {\n        return getAreaAbsorptionCapacityPixel(areaSnapshot, pixels, allAreasSizePixel);\n    }\n}\n/**\n * @param {?} areaSnapshot\n * @param {?} pixels\n * @param {?} allAreasSizePixel\n * @return {?}\n */\nfunction getAreaAbsorptionCapacityPercent(areaSnapshot, pixels, allAreasSizePixel) {\n    /** @type {?} */\n    const tempPixelSize = areaSnapshot.sizePixelAtStart + pixels;\n    /** @type {?} */\n    const tempPercentSize = (tempPixelSize / allAreasSizePixel) * 100\n    // ENLARGE AREA\n    ;\n    // ENLARGE AREA\n    if (pixels > 0) {\n        // If maxSize & newSize bigger than it > absorb to max and return remaining pixels\n        if (areaSnapshot.area.maxSize !== null && tempPercentSize > areaSnapshot.area.maxSize) {\n            // Use area.area.maxSize as newPercentSize and return calculate pixels remaining\n            /** @type {?} */\n            const maxSizePixel = (areaSnapshot.area.maxSize / 100) * allAreasSizePixel;\n            return {\n                areaSnapshot,\n                pixelAbsorb: maxSizePixel,\n                percentAfterAbsorption: areaSnapshot.area.maxSize,\n                pixelRemain: areaSnapshot.sizePixelAtStart + pixels - maxSizePixel,\n            };\n        }\n        return {\n            areaSnapshot,\n            pixelAbsorb: pixels,\n            percentAfterAbsorption: tempPercentSize > 100 ? 100 : tempPercentSize,\n            pixelRemain: 0,\n        };\n    }\n    // REDUCE AREA\n    else if (pixels < 0) {\n        // If minSize & newSize smaller than it > absorb to min and return remaining pixels\n        if (areaSnapshot.area.minSize !== null && tempPercentSize < areaSnapshot.area.minSize) {\n            // Use area.area.minSize as newPercentSize and return calculate pixels remaining\n            /** @type {?} */\n            const minSizePixel = (areaSnapshot.area.minSize / 100) * allAreasSizePixel;\n            return {\n                areaSnapshot,\n                pixelAbsorb: minSizePixel,\n                percentAfterAbsorption: areaSnapshot.area.minSize,\n                pixelRemain: areaSnapshot.sizePixelAtStart + pixels - minSizePixel,\n            };\n        }\n        // If reduced under zero > return remaining pixels\n        else if (tempPercentSize < 0) {\n            // Use 0 as newPercentSize and return calculate pixels remaining\n            return {\n                areaSnapshot,\n                pixelAbsorb: -areaSnapshot.sizePixelAtStart,\n                percentAfterAbsorption: 0,\n                pixelRemain: pixels + areaSnapshot.sizePixelAtStart,\n            };\n        }\n        return {\n            areaSnapshot,\n            pixelAbsorb: pixels,\n            percentAfterAbsorption: tempPercentSize,\n            pixelRemain: 0,\n        };\n    }\n}\n/**\n * @param {?} areaSnapshot\n * @param {?} pixels\n * @param {?} containerSizePixel\n * @return {?}\n */\nfunction getAreaAbsorptionCapacityPixel(areaSnapshot, pixels, containerSizePixel) {\n    /** @type {?} */\n    const tempPixelSize = areaSnapshot.sizePixelAtStart + pixels\n    // ENLARGE AREA\n    ;\n    // ENLARGE AREA\n    if (pixels > 0) {\n        // If maxSize & newSize bigger than it > absorb to max and return remaining pixels\n        if (areaSnapshot.area.maxSize !== null && tempPixelSize > areaSnapshot.area.maxSize) {\n            return {\n                areaSnapshot,\n                pixelAbsorb: areaSnapshot.area.maxSize - areaSnapshot.sizePixelAtStart,\n                percentAfterAbsorption: -1,\n                pixelRemain: tempPixelSize - areaSnapshot.area.maxSize,\n            };\n        }\n        return {\n            areaSnapshot,\n            pixelAbsorb: pixels,\n            percentAfterAbsorption: -1,\n            pixelRemain: 0,\n        };\n    }\n    // REDUCE AREA\n    else if (pixels < 0) {\n        // If minSize & newSize smaller than it > absorb to min and return remaining pixels\n        if (areaSnapshot.area.minSize !== null && tempPixelSize < areaSnapshot.area.minSize) {\n            return {\n                areaSnapshot,\n                pixelAbsorb: areaSnapshot.area.minSize + pixels - tempPixelSize,\n                percentAfterAbsorption: -1,\n                pixelRemain: tempPixelSize - areaSnapshot.area.minSize,\n            };\n        }\n        // If reduced under zero > return remaining pixels\n        else if (tempPixelSize < 0) {\n            return {\n                areaSnapshot,\n                pixelAbsorb: -areaSnapshot.sizePixelAtStart,\n                percentAfterAbsorption: -1,\n                pixelRemain: pixels + areaSnapshot.sizePixelAtStart,\n            };\n        }\n        return {\n            areaSnapshot,\n            pixelAbsorb: pixels,\n            percentAfterAbsorption: -1,\n            pixelRemain: 0,\n        };\n    }\n}\n/**\n * @param {?} unit\n * @param {?} item\n * @return {?}\n */\nfunction updateAreaSize(unit, item) {\n    if (unit === 'percent') {\n        item.areaSnapshot.area.size = item.percentAfterAbsorption;\n    }\n    else if (unit === 'pixel') {\n        // Update size except for the wildcard size area\n        if (item.areaSnapshot.area.size !== null) {\n            item.areaSnapshot.area.size = item.areaSnapshot.sizePixelAtStart + item.pixelAbsorb;\n        }\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * angular-split\n *\n *\n *  PERCENT MODE ([unit]=\"'percent'\")\n *  ___________________________________________________________________________________________\n * |       A       [g1]       B       [g2]       C       [g3]       D       [g4]       E       |\n * |-------------------------------------------------------------------------------------------|\n * |       20                 30                 20                 15                 15      | <-- [size]=\"x\"\n * |               10px               10px               10px               10px               | <-- [gutterSize]=\"10\"\n * |calc(20% - 8px)    calc(30% - 12px)   calc(20% - 8px)    calc(15% - 6px)    calc(15% - 6px)| <-- CSS flex-basis property (with flex-grow&shrink at 0)\n * |     152px              228px              152px              114px              114px     | <-- el.getBoundingClientRect().width\n * |___________________________________________________________________________________________|\n *                                                                                 800px         <-- el.getBoundingClientRect().width\n *  flex-basis = calc( { area.size }% - { area.size/100 * nbGutter*gutterSize }px );\n *\n *\n *  PIXEL MODE ([unit]=\"'pixel'\")\n *  ___________________________________________________________________________________________\n * |       A       [g1]       B       [g2]       C       [g3]       D       [g4]       E       |\n * |-------------------------------------------------------------------------------------------|\n * |      100                250                 *                 150                100      | <-- [size]=\"y\"\n * |               10px               10px               10px               10px               | <-- [gutterSize]=\"10\"\n * |   0 0 100px          0 0 250px           1 1 auto          0 0 150px          0 0 100px   | <-- CSS flex property (flex-grow/flex-shrink/flex-basis)\n * |     100px              250px              200px              150px              100px     | <-- el.getBoundingClientRect().width\n * |___________________________________________________________________________________________|\n *                                                                                 800px         <-- el.getBoundingClientRect().width\n *\n */\nclass SplitComponent {\n    /**\n     * @param {?} ngZone\n     * @param {?} elRef\n     * @param {?} cdRef\n     * @param {?} renderer\n     */\n    constructor(ngZone, elRef, cdRef, renderer) {\n        this.ngZone = ngZone;\n        this.elRef = elRef;\n        this.cdRef = cdRef;\n        this.renderer = renderer;\n        this._direction = 'horizontal';\n        ////\n        this._unit = 'percent';\n        ////\n        this._gutterSize = 11;\n        ////\n        this._gutterStep = 1;\n        ////\n        this._restrictMove = false;\n        ////\n        this._useTransition = false;\n        ////\n        this._disabled = false;\n        ////\n        this._dir = 'ltr';\n        ////\n        this._gutterDblClickDuration = 0;\n        ////\n        this.dragStart = new EventEmitter(false);\n        this.dragEnd = new EventEmitter(false);\n        this.gutterClick = new EventEmitter(false);\n        this.gutterDblClick = new EventEmitter(false);\n        this.dragProgressSubject = new Subject();\n        this.dragProgress$ = this.dragProgressSubject.asObservable();\n        ////\n        this.isDragging = false;\n        this.isWaitingClear = false;\n        this.dragListeners = [];\n        this.snapshot = null;\n        this.startPoint = null;\n        this.endPoint = null;\n        this.displayedAreas = [];\n        this.hidedAreas = [];\n        this._clickTimeout = null;\n        // To force adding default class, could be override by user @Input() or not\n        this.direction = this._direction;\n    }\n    /**\n     * @param {?} v\n     * @return {?}\n     */\n    set direction(v) {\n        this._direction = v === 'vertical' ? 'vertical' : 'horizontal';\n        this.renderer.addClass(this.elRef.nativeElement, `as-${this._direction}`);\n        this.renderer.removeClass(this.elRef.nativeElement, `as-${this._direction === 'vertical' ? 'horizontal' : 'vertical'}`);\n        this.build(false, false);\n    }\n    /**\n     * @return {?}\n     */\n    get direction() {\n        return this._direction;\n    }\n    /**\n     * @param {?} v\n     * @return {?}\n     */\n    set unit(v) {\n        this._unit = v === 'pixel' ? 'pixel' : 'percent';\n        this.renderer.addClass(this.elRef.nativeElement, `as-${this._unit}`);\n        this.renderer.removeClass(this.elRef.nativeElement, `as-${this._unit === 'pixel' ? 'percent' : 'pixel'}`);\n        this.build(false, true);\n    }\n    /**\n     * @return {?}\n     */\n    get unit() {\n        return this._unit;\n    }\n    /**\n     * @param {?} v\n     * @return {?}\n     */\n    set gutterSize(v) {\n        this._gutterSize = getInputPositiveNumber(v, 11);\n        this.build(false, false);\n    }\n    /**\n     * @return {?}\n     */\n    get gutterSize() {\n        return this._gutterSize;\n    }\n    /**\n     * @param {?} v\n     * @return {?}\n     */\n    set gutterStep(v) {\n        this._gutterStep = getInputPositiveNumber(v, 1);\n    }\n    /**\n     * @return {?}\n     */\n    get gutterStep() {\n        return this._gutterStep;\n    }\n    /**\n     * @param {?} v\n     * @return {?}\n     */\n    set restrictMove(v) {\n        this._restrictMove = getInputBoolean(v);\n    }\n    /**\n     * @return {?}\n     */\n    get restrictMove() {\n        return this._restrictMove;\n    }\n    /**\n     * @param {?} v\n     * @return {?}\n     */\n    set useTransition(v) {\n        this._useTransition = getInputBoolean(v);\n        if (this._useTransition)\n            this.renderer.addClass(this.elRef.nativeElement, 'as-transition');\n        else\n            this.renderer.removeClass(this.elRef.nativeElement, 'as-transition');\n    }\n    /**\n     * @return {?}\n     */\n    get useTransition() {\n        return this._useTransition;\n    }\n    /**\n     * @param {?} v\n     * @return {?}\n     */\n    set disabled(v) {\n        this._disabled = getInputBoolean(v);\n        if (this._disabled)\n            this.renderer.addClass(this.elRef.nativeElement, 'as-disabled');\n        else\n            this.renderer.removeClass(this.elRef.nativeElement, 'as-disabled');\n    }\n    /**\n     * @return {?}\n     */\n    get disabled() {\n        return this._disabled;\n    }\n    /**\n     * @param {?} v\n     * @return {?}\n     */\n    set dir(v) {\n        this._dir = v === 'rtl' ? 'rtl' : 'ltr';\n        this.renderer.setAttribute(this.elRef.nativeElement, 'dir', this._dir);\n    }\n    /**\n     * @return {?}\n     */\n    get dir() {\n        return this._dir;\n    }\n    /**\n     * @param {?} v\n     * @return {?}\n     */\n    set gutterDblClickDuration(v) {\n        this._gutterDblClickDuration = getInputPositiveNumber(v, 0);\n    }\n    /**\n     * @return {?}\n     */\n    get gutterDblClickDuration() {\n        return this._gutterDblClickDuration;\n    }\n    /**\n     * @return {?}\n     */\n    get transitionEnd() {\n        return new Observable((/**\n         * @param {?} subscriber\n         * @return {?}\n         */\n        (subscriber) => (this.transitionEndSubscriber = subscriber))).pipe(debounceTime(20));\n    }\n    /**\n     * @return {?}\n     */\n    ngAfterViewInit() {\n        this.ngZone.runOutsideAngular((/**\n         * @return {?}\n         */\n        () => {\n            // To avoid transition at first rendering\n            setTimeout((/**\n             * @return {?}\n             */\n            () => this.renderer.addClass(this.elRef.nativeElement, 'as-init')));\n        }));\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    getNbGutters() {\n        return this.displayedAreas.length === 0 ? 0 : this.displayedAreas.length - 1;\n    }\n    /**\n     * @param {?} component\n     * @return {?}\n     */\n    addArea(component) {\n        /** @type {?} */\n        const newArea = {\n            component,\n            order: 0,\n            size: 0,\n            minSize: null,\n            maxSize: null,\n        };\n        if (component.visible === true) {\n            this.displayedAreas.push(newArea);\n            this.build(true, true);\n        }\n        else {\n            this.hidedAreas.push(newArea);\n        }\n    }\n    /**\n     * @param {?} component\n     * @return {?}\n     */\n    removeArea(component) {\n        if (this.displayedAreas.some((/**\n         * @param {?} a\n         * @return {?}\n         */\n        (a) => a.component === component))) {\n            /** @type {?} */\n            const area = this.displayedAreas.find((/**\n             * @param {?} a\n             * @return {?}\n             */\n            (a) => a.component === component));\n            this.displayedAreas.splice(this.displayedAreas.indexOf(area), 1);\n            this.build(true, true);\n        }\n        else if (this.hidedAreas.some((/**\n         * @param {?} a\n         * @return {?}\n         */\n        (a) => a.component === component))) {\n            /** @type {?} */\n            const area = this.hidedAreas.find((/**\n             * @param {?} a\n             * @return {?}\n             */\n            (a) => a.component === component));\n            this.hidedAreas.splice(this.hidedAreas.indexOf(area), 1);\n        }\n    }\n    /**\n     * @param {?} component\n     * @param {?} resetOrders\n     * @param {?} resetSizes\n     * @return {?}\n     */\n    updateArea(component, resetOrders, resetSizes) {\n        if (component.visible === true) {\n            this.build(resetOrders, resetSizes);\n        }\n    }\n    /**\n     * @param {?} component\n     * @return {?}\n     */\n    showArea(component) {\n        /** @type {?} */\n        const area = this.hidedAreas.find((/**\n         * @param {?} a\n         * @return {?}\n         */\n        (a) => a.component === component));\n        if (area === undefined) {\n            return;\n        }\n        /** @type {?} */\n        const areas = this.hidedAreas.splice(this.hidedAreas.indexOf(area), 1);\n        this.displayedAreas.push(...areas);\n        this.build(true, true);\n    }\n    /**\n     * @param {?} comp\n     * @return {?}\n     */\n    hideArea(comp) {\n        /** @type {?} */\n        const area = this.displayedAreas.find((/**\n         * @param {?} a\n         * @return {?}\n         */\n        (a) => a.component === comp));\n        if (area === undefined) {\n            return;\n        }\n        /** @type {?} */\n        const areas = this.displayedAreas.splice(this.displayedAreas.indexOf(area), 1);\n        areas.forEach((/**\n         * @param {?} area\n         * @return {?}\n         */\n        (area) => {\n            area.order = 0;\n            area.size = 0;\n        }));\n        this.hidedAreas.push(...areas);\n        this.build(true, true);\n    }\n    /**\n     * @return {?}\n     */\n    getVisibleAreaSizes() {\n        return this.displayedAreas.map((/**\n         * @param {?} a\n         * @return {?}\n         */\n        (a) => (a.size === null ? '*' : a.size)));\n    }\n    /**\n     * @param {?} sizes\n     * @return {?}\n     */\n    setVisibleAreaSizes(sizes) {\n        if (sizes.length !== this.displayedAreas.length) {\n            return false;\n        }\n        /** @type {?} */\n        const formatedSizes = sizes.map((/**\n         * @param {?} s\n         * @return {?}\n         */\n        (s) => getInputPositiveNumber(s, null)));\n        /** @type {?} */\n        const isValid = isUserSizesValid(this.unit, formatedSizes);\n        if (isValid === false) {\n            return false;\n        }\n        // @ts-ignore\n        this.displayedAreas.forEach((/**\n         * @param {?} area\n         * @param {?} i\n         * @return {?}\n         */\n        (area, i) => (area.component._size = formatedSizes[i])));\n        this.build(false, true);\n        return true;\n    }\n    /**\n     * @private\n     * @param {?} resetOrders\n     * @param {?} resetSizes\n     * @return {?}\n     */\n    build(resetOrders, resetSizes) {\n        this.stopDragging();\n        // ¤ AREAS ORDER\n        if (resetOrders === true) {\n            // If user provided 'order' for each area, use it to sort them.\n            if (this.displayedAreas.every((/**\n             * @param {?} a\n             * @return {?}\n             */\n            (a) => a.component.order !== null))) {\n                this.displayedAreas.sort((/**\n                 * @param {?} a\n                 * @param {?} b\n                 * @return {?}\n                 */\n                (a, b) => (/** @type {?} */ (a.component.order)) - (/** @type {?} */ (b.component.order))));\n            }\n            // Then set real order with multiples of 2, numbers between will be used by gutters.\n            this.displayedAreas.forEach((/**\n             * @param {?} area\n             * @param {?} i\n             * @return {?}\n             */\n            (area, i) => {\n                area.order = i * 2;\n                area.component.setStyleOrder(area.order);\n            }));\n        }\n        // ¤ AREAS SIZE\n        if (resetSizes === true) {\n            /** @type {?} */\n            const useUserSizes = isUserSizesValid(this.unit, this.displayedAreas.map((/**\n             * @param {?} a\n             * @return {?}\n             */\n            (a) => a.component.size)));\n            switch (this.unit) {\n                case 'percent': {\n                    /** @type {?} */\n                    const defaultSize = 100 / this.displayedAreas.length;\n                    this.displayedAreas.forEach((/**\n                     * @param {?} area\n                     * @return {?}\n                     */\n                    (area) => {\n                        area.size = useUserSizes ? (/** @type {?} */ (area.component.size)) : defaultSize;\n                        area.minSize = getAreaMinSize(area);\n                        area.maxSize = getAreaMaxSize(area);\n                    }));\n                    break;\n                }\n                case 'pixel': {\n                    if (useUserSizes) {\n                        this.displayedAreas.forEach((/**\n                         * @param {?} area\n                         * @return {?}\n                         */\n                        (area) => {\n                            area.size = area.component.size;\n                            area.minSize = getAreaMinSize(area);\n                            area.maxSize = getAreaMaxSize(area);\n                        }));\n                    }\n                    else {\n                        /** @type {?} */\n                        const wildcardSizeAreas = this.displayedAreas.filter((/**\n                         * @param {?} a\n                         * @return {?}\n                         */\n                        (a) => a.component.size === null))\n                        // No wildcard area > Need to select one arbitrarily > first\n                        ;\n                        // No wildcard area > Need to select one arbitrarily > first\n                        if (wildcardSizeAreas.length === 0 && this.displayedAreas.length > 0) {\n                            this.displayedAreas.forEach((/**\n                             * @param {?} area\n                             * @param {?} i\n                             * @return {?}\n                             */\n                            (area, i) => {\n                                area.size = i === 0 ? null : area.component.size;\n                                area.minSize = i === 0 ? null : getAreaMinSize(area);\n                                area.maxSize = i === 0 ? null : getAreaMaxSize(area);\n                            }));\n                        }\n                        // More than one wildcard area > Need to keep only one arbitrarly > first\n                        else if (wildcardSizeAreas.length > 1) {\n                            /** @type {?} */\n                            let alreadyGotOne = false;\n                            this.displayedAreas.forEach((/**\n                             * @param {?} area\n                             * @return {?}\n                             */\n                            (area) => {\n                                if (area.component.size === null) {\n                                    if (alreadyGotOne === false) {\n                                        area.size = null;\n                                        area.minSize = null;\n                                        area.maxSize = null;\n                                        alreadyGotOne = true;\n                                    }\n                                    else {\n                                        area.size = 100;\n                                        area.minSize = null;\n                                        area.maxSize = null;\n                                    }\n                                }\n                                else {\n                                    area.size = area.component.size;\n                                    area.minSize = getAreaMinSize(area);\n                                    area.maxSize = getAreaMaxSize(area);\n                                }\n                            }));\n                        }\n                    }\n                    break;\n                }\n            }\n        }\n        this.refreshStyleSizes();\n        this.cdRef.markForCheck();\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    refreshStyleSizes() {\n        ///////////////////////////////////////////\n        // PERCENT MODE\n        if (this.unit === 'percent') {\n            // Only one area > flex-basis 100%\n            if (this.displayedAreas.length === 1) {\n                this.displayedAreas[0].component.setStyleFlex(0, 0, `100%`, false, false);\n            }\n            // Multiple areas > use each percent basis\n            else {\n                /** @type {?} */\n                const sumGutterSize = this.getNbGutters() * this.gutterSize;\n                this.displayedAreas.forEach((/**\n                 * @param {?} area\n                 * @return {?}\n                 */\n                (area) => {\n                    area.component.setStyleFlex(0, 0, `calc( ${area.size}% - ${((/** @type {?} */ (area.size)) / 100) * sumGutterSize}px )`, area.minSize !== null && area.minSize === area.size ? true : false, area.maxSize !== null && area.maxSize === area.size ? true : false);\n                }));\n            }\n        }\n        ///////////////////////////////////////////\n        // PIXEL MODE\n        else if (this.unit === 'pixel') {\n            this.displayedAreas.forEach((/**\n             * @param {?} area\n             * @return {?}\n             */\n            (area) => {\n                // Area with wildcard size\n                if (area.size === null) {\n                    if (this.displayedAreas.length === 1) {\n                        area.component.setStyleFlex(1, 1, `100%`, false, false);\n                    }\n                    else {\n                        area.component.setStyleFlex(1, 1, `auto`, false, false);\n                    }\n                }\n                // Area with pixel size\n                else {\n                    // Only one area > flex-basis 100%\n                    if (this.displayedAreas.length === 1) {\n                        area.component.setStyleFlex(0, 0, `100%`, false, false);\n                    }\n                    // Multiple areas > use each pixel basis\n                    else {\n                        area.component.setStyleFlex(0, 0, `${area.size}px`, area.minSize !== null && area.minSize === area.size ? true : false, area.maxSize !== null && area.maxSize === area.size ? true : false);\n                    }\n                }\n            }));\n        }\n    }\n    /**\n     * @param {?} event\n     * @param {?} gutterNum\n     * @return {?}\n     */\n    clickGutter(event, gutterNum) {\n        /** @type {?} */\n        const tempPoint = getPointFromEvent(event)\n        // Be sure mouseup/touchend happened at same point as mousedown/touchstart to trigger click/dblclick\n        ;\n        // Be sure mouseup/touchend happened at same point as mousedown/touchstart to trigger click/dblclick\n        if (this.startPoint && this.startPoint.x === tempPoint.x && this.startPoint.y === tempPoint.y) {\n            // If timeout in progress and new click > clearTimeout & dblClickEvent\n            if (this._clickTimeout !== null) {\n                window.clearTimeout(this._clickTimeout);\n                this._clickTimeout = null;\n                this.notify('dblclick', gutterNum);\n                this.stopDragging();\n            }\n            // Else start timeout to call clickEvent at end\n            else {\n                this._clickTimeout = window.setTimeout((/**\n                 * @return {?}\n                 */\n                () => {\n                    this._clickTimeout = null;\n                    this.notify('click', gutterNum);\n                    this.stopDragging();\n                }), this.gutterDblClickDuration);\n            }\n        }\n    }\n    /**\n     * @param {?} event\n     * @param {?} gutterOrder\n     * @param {?} gutterNum\n     * @return {?}\n     */\n    startDragging(event, gutterOrder, gutterNum) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.startPoint = getPointFromEvent(event);\n        if (this.startPoint === null || this.disabled === true || this.isWaitingClear === true) {\n            return;\n        }\n        this.snapshot = {\n            gutterNum,\n            lastSteppedOffset: 0,\n            allAreasSizePixel: getElementPixelSize(this.elRef, this.direction) - this.getNbGutters() * this.gutterSize,\n            allInvolvedAreasSizePercent: 100,\n            areasBeforeGutter: [],\n            areasAfterGutter: [],\n        };\n        this.displayedAreas.forEach((/**\n         * @param {?} area\n         * @return {?}\n         */\n        (area) => {\n            /** @type {?} */\n            const areaSnapshot = {\n                area,\n                sizePixelAtStart: getElementPixelSize(area.component.elRef, this.direction),\n                sizePercentAtStart: this.unit === 'percent' ? area.size : -1,\n            };\n            if (area.order < gutterOrder) {\n                if (this.restrictMove === true) {\n                    this.snapshot.areasBeforeGutter = [areaSnapshot];\n                }\n                else {\n                    this.snapshot.areasBeforeGutter.unshift(areaSnapshot);\n                }\n            }\n            else if (area.order > gutterOrder) {\n                if (this.restrictMove === true) {\n                    if (this.snapshot.areasAfterGutter.length === 0)\n                        this.snapshot.areasAfterGutter = [areaSnapshot];\n                }\n                else {\n                    this.snapshot.areasAfterGutter.push(areaSnapshot);\n                }\n            }\n        }));\n        this.snapshot.allInvolvedAreasSizePercent = [\n            ...this.snapshot.areasBeforeGutter,\n            ...this.snapshot.areasAfterGutter,\n        ].reduce((/**\n         * @param {?} t\n         * @param {?} a\n         * @return {?}\n         */\n        (t, a) => t + a.sizePercentAtStart), 0);\n        if (this.snapshot.areasBeforeGutter.length === 0 || this.snapshot.areasAfterGutter.length === 0) {\n            return;\n        }\n        this.dragListeners.push(this.renderer.listen('document', 'mouseup', this.stopDragging.bind(this)));\n        this.dragListeners.push(this.renderer.listen('document', 'touchend', this.stopDragging.bind(this)));\n        this.dragListeners.push(this.renderer.listen('document', 'touchcancel', this.stopDragging.bind(this)));\n        this.ngZone.runOutsideAngular((/**\n         * @return {?}\n         */\n        () => {\n            this.dragListeners.push(this.renderer.listen('document', 'mousemove', this.dragEvent.bind(this)));\n            this.dragListeners.push(this.renderer.listen('document', 'touchmove', this.dragEvent.bind(this)));\n        }));\n        this.displayedAreas.forEach((/**\n         * @param {?} area\n         * @return {?}\n         */\n        (area) => area.component.lockEvents()));\n        this.isDragging = true;\n        this.renderer.addClass(this.elRef.nativeElement, 'as-dragging');\n        this.renderer.addClass(this.gutterEls.toArray()[this.snapshot.gutterNum - 1].nativeElement, 'as-dragged');\n        this.notify('start', this.snapshot.gutterNum);\n    }\n    /**\n     * @private\n     * @param {?} event\n     * @return {?}\n     */\n    dragEvent(event) {\n        event.preventDefault();\n        event.stopPropagation();\n        if (this._clickTimeout !== null) {\n            window.clearTimeout(this._clickTimeout);\n            this._clickTimeout = null;\n        }\n        if (this.isDragging === false) {\n            return;\n        }\n        this.endPoint = getPointFromEvent(event);\n        if (this.endPoint === null) {\n            return;\n        }\n        // Calculate steppedOffset\n        /** @type {?} */\n        let offset = this.direction === 'horizontal' ? this.startPoint.x - this.endPoint.x : this.startPoint.y - this.endPoint.y;\n        if (this.dir === 'rtl') {\n            offset = -offset;\n        }\n        /** @type {?} */\n        const steppedOffset = Math.round(offset / this.gutterStep) * this.gutterStep;\n        if (steppedOffset === this.snapshot.lastSteppedOffset) {\n            return;\n        }\n        this.snapshot.lastSteppedOffset = steppedOffset;\n        // Need to know if each gutter side areas could reacts to steppedOffset\n        /** @type {?} */\n        let areasBefore = getGutterSideAbsorptionCapacity(this.unit, this.snapshot.areasBeforeGutter, -steppedOffset, this.snapshot.allAreasSizePixel);\n        /** @type {?} */\n        let areasAfter = getGutterSideAbsorptionCapacity(this.unit, this.snapshot.areasAfterGutter, steppedOffset, this.snapshot.allAreasSizePixel)\n        // Each gutter side areas can't absorb all offset\n        ;\n        // Each gutter side areas can't absorb all offset\n        if (areasBefore.remain !== 0 && areasAfter.remain !== 0) {\n            if (Math.abs(areasBefore.remain) === Math.abs(areasAfter.remain)) {\n            }\n            else if (Math.abs(areasBefore.remain) > Math.abs(areasAfter.remain)) {\n                areasAfter = getGutterSideAbsorptionCapacity(this.unit, this.snapshot.areasAfterGutter, steppedOffset + areasBefore.remain, this.snapshot.allAreasSizePixel);\n            }\n            else {\n                areasBefore = getGutterSideAbsorptionCapacity(this.unit, this.snapshot.areasBeforeGutter, -(steppedOffset - areasAfter.remain), this.snapshot.allAreasSizePixel);\n            }\n        }\n        // Areas before gutter can't absorbs all offset > need to recalculate sizes for areas after gutter.\n        else if (areasBefore.remain !== 0) {\n            areasAfter = getGutterSideAbsorptionCapacity(this.unit, this.snapshot.areasAfterGutter, steppedOffset + areasBefore.remain, this.snapshot.allAreasSizePixel);\n        }\n        // Areas after gutter can't absorbs all offset > need to recalculate sizes for areas before gutter.\n        else if (areasAfter.remain !== 0) {\n            areasBefore = getGutterSideAbsorptionCapacity(this.unit, this.snapshot.areasBeforeGutter, -(steppedOffset - areasAfter.remain), this.snapshot.allAreasSizePixel);\n        }\n        if (this.unit === 'percent') {\n            // Hack because of browser messing up with sizes using calc(X% - Ypx) -> el.getBoundingClientRect()\n            // If not there, playing with gutters makes total going down to 99.99875% then 99.99286%, 99.98986%,..\n            /** @type {?} */\n            const all = [...areasBefore.list, ...areasAfter.list];\n            /** @type {?} */\n            const areaToReset = all.find((/**\n             * @param {?} a\n             * @return {?}\n             */\n            (a) => a.percentAfterAbsorption !== 0 &&\n                a.percentAfterAbsorption !== a.areaSnapshot.area.minSize &&\n                a.percentAfterAbsorption !== a.areaSnapshot.area.maxSize));\n            if (areaToReset) {\n                areaToReset.percentAfterAbsorption =\n                    this.snapshot.allInvolvedAreasSizePercent -\n                        all.filter((/**\n                         * @param {?} a\n                         * @return {?}\n                         */\n                        (a) => a !== areaToReset)).reduce((/**\n                         * @param {?} total\n                         * @param {?} a\n                         * @return {?}\n                         */\n                        (total, a) => total + a.percentAfterAbsorption), 0);\n            }\n        }\n        // Now we know areas could absorb steppedOffset, time to really update sizes\n        areasBefore.list.forEach((/**\n         * @param {?} item\n         * @return {?}\n         */\n        (item) => updateAreaSize(this.unit, item)));\n        areasAfter.list.forEach((/**\n         * @param {?} item\n         * @return {?}\n         */\n        (item) => updateAreaSize(this.unit, item)));\n        this.refreshStyleSizes();\n        this.notify('progress', this.snapshot.gutterNum);\n    }\n    /**\n     * @private\n     * @param {?=} event\n     * @return {?}\n     */\n    stopDragging(event) {\n        if (event) {\n            event.preventDefault();\n            event.stopPropagation();\n        }\n        if (this.isDragging === false) {\n            return;\n        }\n        this.displayedAreas.forEach((/**\n         * @param {?} area\n         * @return {?}\n         */\n        (area) => area.component.unlockEvents()));\n        while (this.dragListeners.length > 0) {\n            /** @type {?} */\n            const fct = this.dragListeners.pop();\n            if (fct)\n                fct();\n        }\n        // Warning: Have to be before \"notify('end')\"\n        // because \"notify('end')\"\" can be linked to \"[size]='x'\" > \"build()\" > \"stopDragging()\"\n        this.isDragging = false;\n        // If moved from starting point, notify end\n        if (this.endPoint && (this.startPoint.x !== this.endPoint.x || this.startPoint.y !== this.endPoint.y)) {\n            this.notify('end', this.snapshot.gutterNum);\n        }\n        this.renderer.removeClass(this.elRef.nativeElement, 'as-dragging');\n        this.renderer.removeClass(this.gutterEls.toArray()[this.snapshot.gutterNum - 1].nativeElement, 'as-dragged');\n        this.snapshot = null;\n        this.isWaitingClear = true;\n        // Needed to let (click)=\"clickGutter(...)\" event run and verify if mouse moved or not\n        this.ngZone.runOutsideAngular((/**\n         * @return {?}\n         */\n        () => {\n            setTimeout((/**\n             * @return {?}\n             */\n            () => {\n                this.startPoint = null;\n                this.endPoint = null;\n                this.isWaitingClear = false;\n            }));\n        }));\n    }\n    /**\n     * @param {?} type\n     * @param {?} gutterNum\n     * @return {?}\n     */\n    notify(type, gutterNum) {\n        /** @type {?} */\n        const sizes = this.getVisibleAreaSizes();\n        if (type === 'start') {\n            this.dragStart.emit({ gutterNum, sizes });\n        }\n        else if (type === 'end') {\n            this.dragEnd.emit({ gutterNum, sizes });\n        }\n        else if (type === 'click') {\n            this.gutterClick.emit({ gutterNum, sizes });\n        }\n        else if (type === 'dblclick') {\n            this.gutterDblClick.emit({ gutterNum, sizes });\n        }\n        else if (type === 'transitionEnd') {\n            if (this.transitionEndSubscriber) {\n                this.ngZone.run((/**\n                 * @return {?}\n                 */\n                () => this.transitionEndSubscriber.next(sizes)));\n            }\n        }\n        else if (type === 'progress') {\n            // Stay outside zone to allow users do what they want about change detection mechanism.\n            this.dragProgressSubject.next({ gutterNum, sizes });\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this.stopDragging();\n    }\n}\nSplitComponent.ɵfac = function SplitComponent_Factory(t) { return new (t || SplitComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2)); };\nSplitComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: SplitComponent, selectors: [[\"as-split\"]], viewQuery: function SplitComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c0, true);\n    } if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.gutterEls = _t);\n    } }, inputs: { direction: \"direction\", unit: \"unit\", gutterSize: \"gutterSize\", gutterStep: \"gutterStep\", restrictMove: \"restrictMove\", useTransition: \"useTransition\", disabled: \"disabled\", dir: \"dir\", gutterDblClickDuration: \"gutterDblClickDuration\" }, outputs: { dragStart: \"dragStart\", dragEnd: \"dragEnd\", gutterClick: \"gutterClick\", gutterDblClick: \"gutterDblClick\", transitionEnd: \"transitionEnd\" }, exportAs: [\"asSplit\"], ngContentSelectors: _c1, decls: 2, vars: 1, consts: [[\"ngFor\", \"\", 3, \"ngForOf\"], [\"class\", \"as-split-gutter\", 3, \"flex-basis\", \"order\", \"mousedown\", \"touchstart\", \"mouseup\", \"touchend\", 4, \"ngIf\"], [1, \"as-split-gutter\", 3, \"mousedown\", \"touchstart\", \"mouseup\", \"touchend\"], [\"gutterEls\", \"\"], [1, \"as-split-gutter-icon\"]], template: function SplitComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵprojection(0);\n        ɵngcc0.ɵɵtemplate(1, SplitComponent_ng_template_1_Template, 1, 1, \"ng-template\", 0);\n    } if (rf & 2) {\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.displayedAreas);\n    } }, directives: [ɵngcc1.NgForOf, ɵngcc1.NgIf], styles: [\"[_nghost-%COMP%]{display:flex;flex-wrap:nowrap;justify-content:flex-start;align-items:stretch;overflow:hidden;width:100%;height:100%}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-grow:0;flex-shrink:0;background-color:#eee;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{width:100%;height:100%;background-position:center center;background-repeat:no-repeat}[_nghost-%COMP%]    >.as-split-area{flex-grow:0;flex-shrink:0;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]    >.as-split-area.as-hidden{flex:0 1 0px!important;overflow-x:hidden;overflow-y:hidden}.as-horizontal[_nghost-%COMP%]{flex-direction:row}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-direction:row;cursor:col-resize;height:100%}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==)}.as-horizontal[_nghost-%COMP%]    >.as-split-area{height:100%}.as-vertical[_nghost-%COMP%]{flex-direction:column}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-direction:column;cursor:row-resize;width:100%}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFCAMAAABl/6zIAAAABlBMVEUAAADMzMzIT8AyAAAAAXRSTlMAQObYZgAAABRJREFUeAFjYGRkwIMJSeMHlBkOABP7AEGzSuPKAAAAAElFTkSuQmCC)}.as-vertical[_nghost-%COMP%]    >.as-split-area{width:100%}.as-vertical[_nghost-%COMP%]    >.as-split-area.as-hidden{max-width:0}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{cursor:default}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(\\\"\\\")}.as-transition.as-init[_nghost-%COMP%]:not(.as-dragging)    >.as-split-area, .as-transition.as-init[_nghost-%COMP%]:not(.as-dragging) > .as-split-gutter[_ngcontent-%COMP%]{transition:flex-basis .3s}\"], changeDetection: 0 });\n/** @nocollapse */\nSplitComponent.ctorParameters = () => [\n    { type: NgZone },\n    { type: ElementRef },\n    { type: ChangeDetectorRef },\n    { type: Renderer2 }\n];\nSplitComponent.propDecorators = {\n    direction: [{ type: Input }],\n    unit: [{ type: Input }],\n    gutterSize: [{ type: Input }],\n    gutterStep: [{ type: Input }],\n    restrictMove: [{ type: Input }],\n    useTransition: [{ type: Input }],\n    disabled: [{ type: Input }],\n    dir: [{ type: Input }],\n    gutterDblClickDuration: [{ type: Input }],\n    dragStart: [{ type: Output }],\n    dragEnd: [{ type: Output }],\n    gutterClick: [{ type: Output }],\n    gutterDblClick: [{ type: Output }],\n    transitionEnd: [{ type: Output }],\n    gutterEls: [{ type: ViewChildren, args: ['gutterEls',] }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(SplitComponent, [{\n        type: Component,\n        args: [{\n                selector: 'as-split',\n                exportAs: 'asSplit',\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                template: ` <ng-content></ng-content>\n    <ng-template ngFor [ngForOf]=\"displayedAreas\" let-index=\"index\" let-last=\"last\">\n      <div\n        *ngIf=\"last === false\"\n        #gutterEls\n        class=\"as-split-gutter\"\n        [style.flex-basis.px]=\"gutterSize\"\n        [style.order]=\"index * 2 + 1\"\n        (mousedown)=\"startDragging($event, index * 2 + 1, index + 1)\"\n        (touchstart)=\"startDragging($event, index * 2 + 1, index + 1)\"\n        (mouseup)=\"clickGutter($event, index + 1)\"\n        (touchend)=\"clickGutter($event, index + 1)\"\n      >\n        <div class=\"as-split-gutter-icon\"></div>\n      </div>\n    </ng-template>`,\n                encapsulation: ViewEncapsulation.Emulated,\n                styles: [\":host{display:flex;flex-wrap:nowrap;justify-content:flex-start;align-items:stretch;overflow:hidden;width:100%;height:100%}:host>.as-split-gutter{flex-grow:0;flex-shrink:0;background-color:#eee;display:flex;align-items:center;justify-content:center}:host>.as-split-gutter>.as-split-gutter-icon{width:100%;height:100%;background-position:center center;background-repeat:no-repeat}:host ::ng-deep>.as-split-area{flex-grow:0;flex-shrink:0;overflow-x:hidden;overflow-y:auto}:host ::ng-deep>.as-split-area.as-hidden{flex:0 1 0px!important;overflow-x:hidden;overflow-y:hidden}:host.as-horizontal{flex-direction:row}:host.as-horizontal>.as-split-gutter{flex-direction:row;cursor:col-resize;height:100%}:host.as-horizontal>.as-split-gutter>.as-split-gutter-icon{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==)}:host.as-horizontal ::ng-deep>.as-split-area{height:100%}:host.as-vertical{flex-direction:column}:host.as-vertical>.as-split-gutter{flex-direction:column;cursor:row-resize;width:100%}:host.as-vertical>.as-split-gutter .as-split-gutter-icon{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFCAMAAABl/6zIAAAABlBMVEUAAADMzMzIT8AyAAAAAXRSTlMAQObYZgAAABRJREFUeAFjYGRkwIMJSeMHlBkOABP7AEGzSuPKAAAAAElFTkSuQmCC)}:host.as-vertical ::ng-deep>.as-split-area{width:100%}:host.as-vertical ::ng-deep>.as-split-area.as-hidden{max-width:0}:host.as-disabled>.as-split-gutter{cursor:default}:host.as-disabled>.as-split-gutter .as-split-gutter-icon{background-image:url(\\\"\\\")}:host.as-transition.as-init:not(.as-dragging) ::ng-deep>.as-split-area,:host.as-transition.as-init:not(.as-dragging)>.as-split-gutter{transition:flex-basis .3s}\"]\n            }]\n    }], function () { return [{ type: ɵngcc0.NgZone }, { type: ɵngcc0.ElementRef }, { type: ɵngcc0.ChangeDetectorRef }, { type: ɵngcc0.Renderer2 }]; }, { dragStart: [{\n            type: Output\n        }], dragEnd: [{\n            type: Output\n        }], gutterClick: [{\n            type: Output\n        }], gutterDblClick: [{\n            type: Output\n        }], direction: [{\n            type: Input\n        }], unit: [{\n            type: Input\n        }], gutterSize: [{\n            type: Input\n        }], gutterStep: [{\n            type: Input\n        }], restrictMove: [{\n            type: Input\n        }], useTransition: [{\n            type: Input\n        }], disabled: [{\n            type: Input\n        }], dir: [{\n            type: Input\n        }], gutterDblClickDuration: [{\n            type: Input\n        }], transitionEnd: [{\n            type: Output\n        }], gutterEls: [{\n            type: ViewChildren,\n            args: ['gutterEls']\n        }] }); })();\nif (false) {\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype._direction;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype._unit;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype._gutterSize;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype._gutterStep;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype._restrictMove;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype._useTransition;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype._disabled;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype._dir;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype._gutterDblClickDuration;\n    /** @type {?} */\n    SplitComponent.prototype.dragStart;\n    /** @type {?} */\n    SplitComponent.prototype.dragEnd;\n    /** @type {?} */\n    SplitComponent.prototype.gutterClick;\n    /** @type {?} */\n    SplitComponent.prototype.gutterDblClick;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype.transitionEndSubscriber;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype.dragProgressSubject;\n    /** @type {?} */\n    SplitComponent.prototype.dragProgress$;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype.isDragging;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype.isWaitingClear;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype.dragListeners;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype.snapshot;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype.startPoint;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype.endPoint;\n    /** @type {?} */\n    SplitComponent.prototype.displayedAreas;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype.hidedAreas;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype.gutterEls;\n    /** @type {?} */\n    SplitComponent.prototype._clickTimeout;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype.ngZone;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype.elRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype.cdRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype.renderer;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass SplitAreaDirective {\n    /**\n     * @param {?} ngZone\n     * @param {?} elRef\n     * @param {?} renderer\n     * @param {?} split\n     */\n    constructor(ngZone, elRef, renderer, split) {\n        this.ngZone = ngZone;\n        this.elRef = elRef;\n        this.renderer = renderer;\n        this.split = split;\n        this._order = null;\n        ////\n        this._size = null;\n        ////\n        this._minSize = null;\n        ////\n        this._maxSize = null;\n        ////\n        this._lockSize = false;\n        ////\n        this._visible = true;\n        this.lockListeners = [];\n        this.renderer.addClass(this.elRef.nativeElement, 'as-split-area');\n    }\n    /**\n     * @param {?} v\n     * @return {?}\n     */\n    set order(v) {\n        this._order = getInputPositiveNumber(v, null);\n        this.split.updateArea(this, true, false);\n    }\n    /**\n     * @return {?}\n     */\n    get order() {\n        return this._order;\n    }\n    /**\n     * @param {?} v\n     * @return {?}\n     */\n    set size(v) {\n        this._size = getInputPositiveNumber(v, null);\n        this.split.updateArea(this, false, true);\n    }\n    /**\n     * @return {?}\n     */\n    get size() {\n        return this._size;\n    }\n    /**\n     * @param {?} v\n     * @return {?}\n     */\n    set minSize(v) {\n        this._minSize = getInputPositiveNumber(v, null);\n        this.split.updateArea(this, false, true);\n    }\n    /**\n     * @return {?}\n     */\n    get minSize() {\n        return this._minSize;\n    }\n    /**\n     * @param {?} v\n     * @return {?}\n     */\n    set maxSize(v) {\n        this._maxSize = getInputPositiveNumber(v, null);\n        this.split.updateArea(this, false, true);\n    }\n    /**\n     * @return {?}\n     */\n    get maxSize() {\n        return this._maxSize;\n    }\n    /**\n     * @param {?} v\n     * @return {?}\n     */\n    set lockSize(v) {\n        this._lockSize = getInputBoolean(v);\n        this.split.updateArea(this, false, true);\n    }\n    /**\n     * @return {?}\n     */\n    get lockSize() {\n        return this._lockSize;\n    }\n    /**\n     * @param {?} v\n     * @return {?}\n     */\n    set visible(v) {\n        this._visible = getInputBoolean(v);\n        if (this._visible) {\n            this.split.showArea(this);\n            this.renderer.removeClass(this.elRef.nativeElement, 'as-hidden');\n        }\n        else {\n            this.split.hideArea(this);\n            this.renderer.addClass(this.elRef.nativeElement, 'as-hidden');\n        }\n    }\n    /**\n     * @return {?}\n     */\n    get visible() {\n        return this._visible;\n    }\n    /**\n     * @return {?}\n     */\n    ngOnInit() {\n        this.split.addArea(this);\n        this.ngZone.runOutsideAngular((/**\n         * @return {?}\n         */\n        () => {\n            this.transitionListener = this.renderer.listen(this.elRef.nativeElement, 'transitionend', (/**\n             * @param {?} event\n             * @return {?}\n             */\n            (event) => {\n                // Limit only flex-basis transition to trigger the event\n                if (event.propertyName === 'flex-basis') {\n                    this.split.notify('transitionEnd', -1);\n                }\n            }));\n        }));\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    setStyleOrder(value) {\n        this.renderer.setStyle(this.elRef.nativeElement, 'order', value);\n    }\n    /**\n     * @param {?} grow\n     * @param {?} shrink\n     * @param {?} basis\n     * @param {?} isMin\n     * @param {?} isMax\n     * @return {?}\n     */\n    setStyleFlex(grow, shrink, basis, isMin, isMax) {\n        // Need 3 separated properties to work on IE11 (https://github.com/angular/flex-layout/issues/323)\n        this.renderer.setStyle(this.elRef.nativeElement, 'flex-grow', grow);\n        this.renderer.setStyle(this.elRef.nativeElement, 'flex-shrink', shrink);\n        this.renderer.setStyle(this.elRef.nativeElement, 'flex-basis', basis);\n        if (isMin === true)\n            this.renderer.addClass(this.elRef.nativeElement, 'as-min');\n        else\n            this.renderer.removeClass(this.elRef.nativeElement, 'as-min');\n        if (isMax === true)\n            this.renderer.addClass(this.elRef.nativeElement, 'as-max');\n        else\n            this.renderer.removeClass(this.elRef.nativeElement, 'as-max');\n    }\n    /**\n     * @return {?}\n     */\n    lockEvents() {\n        this.ngZone.runOutsideAngular((/**\n         * @return {?}\n         */\n        () => {\n            this.lockListeners.push(this.renderer.listen(this.elRef.nativeElement, 'selectstart', (/**\n             * @param {?} e\n             * @return {?}\n             */\n            (e) => false)));\n            this.lockListeners.push(this.renderer.listen(this.elRef.nativeElement, 'dragstart', (/**\n             * @param {?} e\n             * @return {?}\n             */\n            (e) => false)));\n        }));\n    }\n    /**\n     * @return {?}\n     */\n    unlockEvents() {\n        while (this.lockListeners.length > 0) {\n            /** @type {?} */\n            const fct = this.lockListeners.pop();\n            if (fct)\n                fct();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this.unlockEvents();\n        if (this.transitionListener) {\n            this.transitionListener();\n        }\n        this.split.removeArea(this);\n    }\n}\nSplitAreaDirective.ɵfac = function SplitAreaDirective_Factory(t) { return new (t || SplitAreaDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(SplitComponent)); };\nSplitAreaDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: SplitAreaDirective, selectors: [[\"as-split-area\"], [\"\", \"as-split-area\", \"\"]], inputs: { order: \"order\", size: \"size\", minSize: \"minSize\", maxSize: \"maxSize\", lockSize: \"lockSize\", visible: \"visible\" }, exportAs: [\"asSplitArea\"] });\n/** @nocollapse */\nSplitAreaDirective.ctorParameters = () => [\n    { type: NgZone },\n    { type: ElementRef },\n    { type: Renderer2 },\n    { type: SplitComponent }\n];\nSplitAreaDirective.propDecorators = {\n    order: [{ type: Input }],\n    size: [{ type: Input }],\n    minSize: [{ type: Input }],\n    maxSize: [{ type: Input }],\n    lockSize: [{ type: Input }],\n    visible: [{ type: Input }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(SplitAreaDirective, [{\n        type: Directive,\n        args: [{\n                selector: 'as-split-area, [as-split-area]',\n                exportAs: 'asSplitArea'\n            }]\n    }], function () { return [{ type: ɵngcc0.NgZone }, { type: ɵngcc0.ElementRef }, { type: ɵngcc0.Renderer2 }, { type: SplitComponent }]; }, { order: [{\n            type: Input\n        }], size: [{\n            type: Input\n        }], minSize: [{\n            type: Input\n        }], maxSize: [{\n            type: Input\n        }], lockSize: [{\n            type: Input\n        }], visible: [{\n            type: Input\n        }] }); })();\nif (false) {\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitAreaDirective.prototype._order;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitAreaDirective.prototype._size;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitAreaDirective.prototype._minSize;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitAreaDirective.prototype._maxSize;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitAreaDirective.prototype._lockSize;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitAreaDirective.prototype._visible;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitAreaDirective.prototype.transitionListener;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitAreaDirective.prototype.lockListeners;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitAreaDirective.prototype.ngZone;\n    /** @type {?} */\n    SplitAreaDirective.prototype.elRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitAreaDirective.prototype.renderer;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitAreaDirective.prototype.split;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass AngularSplitModule {\n    /**\n     * @return {?}\n     */\n    static forRoot() {\n        return {\n            ngModule: AngularSplitModule,\n            providers: [],\n        };\n    }\n    /**\n     * @return {?}\n     */\n    static forChild() {\n        return {\n            ngModule: AngularSplitModule,\n            providers: [],\n        };\n    }\n}\nAngularSplitModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: AngularSplitModule });\nAngularSplitModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function AngularSplitModule_Factory(t) { return new (t || AngularSplitModule)(); }, imports: [[CommonModule]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(AngularSplitModule, { declarations: function () { return [SplitComponent, SplitAreaDirective]; }, imports: function () { return [CommonModule]; }, exports: function () { return [SplitComponent, SplitAreaDirective]; } }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(AngularSplitModule, [{\n        type: NgModule,\n        args: [{\n                imports: [CommonModule],\n                declarations: [SplitComponent, SplitAreaDirective],\n                exports: [SplitComponent, SplitAreaDirective]\n            }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { AngularSplitModule, SplitAreaDirective, SplitComponent };\n\n//# sourceMappingURL=angular-split.js.map","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'app-order',\n  templateUrl: './order.component.html',\n  styleUrls: ['./order.component.css'],\n})\nexport class OrderComponent implements OnInit {\n\n  @Input() public content:string;\n  constructor() { \n    console.log('sys:: content: ',this.content);\n  }\n\n  ngOnInit() {\n     document.querySelector('#content').innerHTML = this.content;\n    let options = {\n      navigation: {\n        nextEl: \".swiper-button-next\",\n        prevEl: \".swiper-button-prev\",\n      },\n    };\n    let slides = document.querySelector('ion-slides');\n    slides.options = options;\n   \n  }\n\n}\n","<div id='content'></div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { GoogleMaps, Polygon } from '@ionic-native/google-maps';\nimport { MapPage } from './map.page';\nimport { AngularSplitModule } from 'angular-split';\nconst routes: Routes = [\n  {\n    path: '',\n    component: MapPage\n  }\n];\n\n@NgModule({\n  imports: [\n    AngularSplitModule.forRoot(),\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  providers: [GoogleMaps],\n  declarations: [MapPage],\n  bootstrap: []\n})\nexport class MapPageModule { }\n","<ion-header>\n  <ion-toolbar>\n    <ion-title (click)=\"p_btn()\">Маршрут</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <!-- <div id=\"map\" style=\"height: 85vh; width: 100%;\"></div> -->\n  <div id=\"container\">\n    <as-split unit=\"percent\" direction=\"vertical\" class=\"work_pane\" (dragEnd)=\"onSplitterDragEnd()\">\n      <as-split-area size=\"80\" minSize=\"30\" #area1=\"asSplitArea\">\n        <div id=\"map\" style=\"height: 85vh; width: 100%;\">\n          <ion-chip outline=\"false\" *ngIf='routeToOrder' class='one-order-chip'>\n            <ion-label>Заказ </ion-label>\n            <ion-icon name=\"close\" (click)=\"drawData()\"></ion-icon>\n          </ion-chip>\n        </div>\n      </as-split-area>\n      <as-split-area size=\"20\" minSize=\"10\" #area2=\"asSplitArea\">\n        <div id=\"guide\"></div>\n      </as-split-area>\n    </as-split>\n  </div>\n</ion-content>","import {\n  Component,\n  OnInit\n} from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport {\n  DirectionsRenderer,\n  DirectionsResult,\n  DirectionsService,\n  GoogleMap,\n  GoogleMapOptions, GoogleMaps,\n  GoogleMapsEvent,\n  ILatLng,\n  ILatLngBounds,\n  LocationService,\n  Marker,\n  MarkerCluster,\n  MarkerOptions,\n  MyLocation\n} from \"@ionic-native/google-maps\";\nimport { NavController, Platform, PopoverController } from \"@ionic/angular\";\nimport { Storage } from \"@ionic/storage\";\nimport { Observable, Subject } from \"rxjs\";\nimport { filter, takeUntil } from \"rxjs/operators\";\nimport { OrderComponent } from \"../../components/order/order.component\";\nimport { Meta } from '../../interfaces/meta';\nimport { AuthService } from \"../../services/auth.service\";\nimport { NavService } from \"../../services/nav.service\";\nimport { StateService } from \"../../services/state.service\";\nimport { DataService } from \"../../services/sys/data.service\";\nimport { Response } from \"./../../interfaces/response\";\nimport { CourierService } from \"./../../services/courier.service\";\nimport { SettingsService } from \"./../../services/settings.service\";\nimport { SysService } from \"./../../services/sys.service\";\nimport { MapService } from \"./../../services/sys/map.service\";\n\ndeclare var AppVersion: { version: string };\n@Component({\n  selector: \"app-map\",\n  templateUrl: \"./map.page.html\",\n  styleUrls: [\"./map.page.scss\"],\n})\nexport class MapPage implements OnInit {\n  map: GoogleMap;\n  orders: Array<any> | null;\n  coords: { lt: number; lg: number };\n  userId: string = localStorage.user;\n  public isMapPreparing: boolean = false;\n  myLocation: MyLocation;\n  public out_process: boolean = false;\n  public out_counter = 0;\n  public local_stop$: Subject<any> = new Subject();\n  markers: Array<MarkerOptions>;\n  icons = [];\n  existsGeos = [];\n  sliderOptions = {\n    navigation: {\n      nextEl: \".swiper-button-next\",\n      prevEl: \".swiper-button-prev\",\n    },\n  };\n  renderer: DirectionsRenderer = null;\n  private origin: ILatLng = {\n    lat: 55.755826,\n    lng: 37.6173,\n  };\n  bounds: ILatLngBounds;\n  public routeToOrder = false;\n  public destination: ILatLng;\n  public currentOrder = '';\n  constructor(\n    public state$: StateService,\n    public platform: Platform,\n    private router: Router,\n    private settings: SettingsService,\n    private courier: CourierService,\n    private sys: SysService,\n    private sysMap: MapService,\n    private auth: AuthService,\n    private nav: NavService,\n    public navCtrl: NavController,\n    public popoverController: PopoverController,\n    private data: DataService,\n    private storage: Storage\n  ) {\n    this.courier.ordersShortData.subscribe((data: Array<any>) => {\n      this.orders = data;\n    });\n  }\n\n  ngOnInit() {\n    console.log(\"sys:: map init\");\n    this.settings.state\n      .pipe(filter((state) => state == \"hasRules\"))\n      .subscribe(() => {\n        this.getOrdersId()\n          .pipe(filter((ids) => ids.length > 0))\n          .subscribe((ids: Array<any>) => {\n            this.getOrders(ids).subscribe((res: Response) => {\n              this.orders = res.orders;\n              if (this.settings.rules.appMode.toLowerCase().includes(\"auto\")) {\n                this.orders.length = 1;\n              }\n              console.log(\"sys:: заказы\", this.orders);\n              this.drawData(this.settings.rules.autoStartRoute);\n            });\n          });\n      });\n    this.state$.g_state.subscribe((state) => {\n      if (state == \"login\") {\n        this.initContent();\n      }\n    });\n    this.sysMap.infoUpdated.subscribe((data: Meta) => {\n      let customData: any;\n      if (data.label == 'showRouteToOrder') {\n        this.routeToOrder = true;\n        this.currentOrder = String(data.order.client_id);\n        customData = data;\n      }\n      this.map.clear();\n      this.drawData(null, customData);\n    });\n\n  }\n\n  ngOnDestroy() {\n    this.sysMap.detachMap();\n  }\n\n  ngAfterViewInit() {\n    console.log(\"sys:: map view init\");\n    this.loadMap();\n    this.platform.ready().then(() => {\n      this.initContent();\n      LocationService.getMyLocation().then((myLocation: MyLocation) => {\n        this.coords = { lt: myLocation.latLng.lat, lg: myLocation.latLng.lng };\n      });\n    });\n    this.state$.interval_1ss.pipe(takeUntil(this.local_stop$)).subscribe(() => {\n      let orderId = localStorage.getItem(\"needOrder\");\n      if (orderId) {\n        this.sysMap.orderDetails(orderId);\n      }\n    });\n  }\n\n  ngOnChanges() {\n    this.drawData(this.settings.rules.autoStartRoute);\n  }\n\n  async loadMap() {\n    let options: GoogleMapOptions = {\n      preferences: {\n        building: false,\n        clickableIcons: true,\n        padding: {\n          bottom: 10,\n        },\n      },\n      controls: {\n        myLocation: true,\n        myLocationButton: true,\n        zoom: true,\n        compass: false,\n        indoorPicker: true,\n      },\n      camera: {\n        target: this.origin,\n        zoom: 10,\n      },\n      gestures: {\n        zoom: true,\n      },\n    };\n    this.map = await this.sysMap.attachMap(\"map\", options);\n    this.sys.checkAuth(AppVersion.version).subscribe((res: Response) => {\n      if (res.success == \"false\") {\n        this.logout();\n      }\n    });\n\n    this.drawData(this.settings.rules.autoStartRoute);\n\n    this.map.on(GoogleMapsEvent.POI_CLICK).subscribe((params: any[]) => {\n      console.log(params);\n    });\n\n    LocationService.getMyLocation().then((myLocation: MyLocation) => {\n      this.myLocation = myLocation;\n      const coordinates = this.myLocation.latLng || { lat: 55, lng: 37 };\n\n      this.map.setCameraTarget(coordinates);\n      this.map.setCameraZoom(8);\n    });\n  }\n\n  //Запрос Данных о заказах с учетом настроек\n  private getOrders(ids: Array<string>) {\n    return this.sys.getOrders(ids);\n  }\n\n  private getOrdersId(): Observable<any> {\n    return new Observable((ids) => {\n      if (this.settings.rules.typeRoute == \"standart\") {\n        this.orders && ids.next(this.orders.map((order) => order.id));\n      } else {\n        this.sysMap.getWay(this.coords).subscribe((resp: Response) => {\n          ids.next(resp.orders.map((order) => order.id));\n        });\n      }\n    });\n  }\n\n  //Подготовка массива заказов к отрисовке в виду не рабочести markerCluster\n  markeredOrders(orders: Array<any>) {\n    let markeredOrders = [];\n    orders?.forEach((order) => {\n      let info = this.createInfoContent(order);\n      this.existsGeos.push([order.lt, order.lg]);\n      markeredOrders.push({\n        \"position\": {\n          \"lat\": Number(order.lt),\n          \"lng\": Number(order.lg),\n        },\n        \"name\": order.id,\n        \"info\": info\n\n      });\n    });\n    return markeredOrders;\n  }\n\n  public drawData(autoStartRoute: string = \"0\", customData = null) {\n    if (this.map !== undefined) {\n      this.map.clear();\n      if (this.routeToOrder && customData) {\n        this.requestDirection(customData.order.lt, customData.order.lg);\n        this.addCluster(this.markeredOrders([customData.order]));\n      } else {\n        this.routeToOrder = false;\n        if (autoStartRoute == \"0\") {\n          this.addCluster(this.markeredOrders(this.orders));\n          return false;\n        }\n      }\n\n    }\n  }\n\n  public p_btn() {\n    setTimeout(() => {\n      this.out_counter = 0;\n      this.out_process = false;\n      console.log(\"outprocess_die\");\n    }, 1000);\n\n    if (this.out_process) {\n      this.out_counter++;\n      if (this.out_counter == 2) {\n        this.logout();\n      }\n    } else {\n      console.log(\"outprocess_false\");\n      this.out_process = true;\n    }\n  }\n\n  public logout() {\n    this.map.clear();\n    localStorage.clear();\n    const url = \"orders\";\n    const data = { action: \"logout\" };\n\n    let self = this;\n    this.auth.sendPost(url, data).subscribe((data: any) => {\n      if (data.success == \"true\") {\n        self.auth.logout();\n      }\n    });\n  }\n\n  initContent() {\n    this.sys.checkAuth(AppVersion.version).subscribe((res: Response) => {\n      if (res.sync_id !== undefined) {\n        this.settings.getSettings(res.sync_id);\n        this.auth.setUser(res.sync_id);\n        this.courier.getBalance(res.sync_id, 1).subscribe((data: any) => {\n\n          this.courier.ordersInfo = data.res_more;\n          this.courier.count_orders(data.res_more);\n          this.orders = data.res_more;\n          this.state$.orders.next(data.res_more);\n          this.getOrdersId()\n            .pipe(filter((ids) => ids.length > 0))\n            .subscribe((ids: Array<any>) => {\n              this.getOrders(ids).subscribe((res: Response) => {\n                this.data.orders.next(res.orders);\n                this.storage.set('orders', res.orders)\n                this.orders = res.orders;\n                if (\n                  this.settings.rules.appMode.toLowerCase().includes(\"auto\")\n                ) {\n                  this.orders.length = 1;\n                }\n                console.log(\"sys:: заказы\", this.orders);\n                this.drawData(this.settings.rules.autoStartRoute);\n              });\n            });\n        });\n      }\n    });\n  }\n\n  addCluster(markeredOrders) {\n    let markerCluster: MarkerCluster = this.map.addMarkerClusterSync({\n      maxZoomLevel: 14,\n      markers: markeredOrders,\n      boundsDraw: false,\n      icons: [\n        {\n          min: 2,\n          url: \"./assets/markercluster/pipka.png\",\n          label: {\n            color: \"black\",\n            bold: true,\n            fontSize: 16,\n          },\n          anchor: { x: 16, y: 16 },\n        },\n      ],\n    });\n    markerCluster.on(GoogleMapsEvent.MARKER_CLICK).subscribe(async (params) => {\n      let marker: Marker = params[1];\n      let popover = await this.popover(GoogleMapsEvent.MARKER_CLICK, marker.get('info'));\n      popover.present();\n    });\n  }\n\n  createInfoContent(order) {\n    let sameGeoOrders: Array<any> = this.orders.filter(\n      (iOrder) => iOrder.lt == order.lt && iOrder.lg == order.lg\n    );\n    let tabsContent = \"\";\n    let note = localStorage.getItem(order.id)\n      ? localStorage.getItem(order.id)\n      : \"\";\n    let from = order.datetime_from || \"\";\n    let arrows =\n      sameGeoOrders.length > 1\n        ? `<div class=\"swiper-button-prev\" onClick='this.parentElement.parentElement.parentElement.slidePrev()'></div>\n<div class=\"swiper-button-next\" onClick='this.parentElement.parentElement.parentElement.slideNext()'></div>`\n        : \"\";\n    sameGeoOrders.forEach((order) => {\n      tabsContent += `\n      <ion-slide class='slide'>\n      <div style='width: 100%;text-align: start;margin: 0 30px;'>\n<span class='order-id'>${order.client_id}</span>\n<hr style=\"background: #D6CFCF;\"/>\n<span class='prop'>Дата доставки: c</span>  <span class='val'>${order.datetime_from?.slice(11, 16) || \"\"\n        }</span> <span class='prop'>До:</span> <span class='val'> ${order.datetime_to ? order.datetime_to?.slice(11, 16) : \"\"\n        } </span>\n<br/><span class='prop'>Имя:</span>  <span class='val'>${order.client_fio\n        }</span>\n<br/><span class='prop'>Компания:</span><span class='val'> ${order.client_name\n        }</span>\n<br/>\n<button onClick='localStorage.setItem(\"needOrder\",${order.id\n        })' style='margin-top: 10px; width: 100%;;padding:10px;background: #2E627E;\nborder-radius: 4px; color:white;font-weight: 500;\nfont-size: 12px;\nline-height: 14px;'>Детали</button>${note}\n</div>\n${arrows}\n</ion-slide>\n     `;\n    });\n\n    let frame: HTMLElement = document.createElement(\"div\");\n\n    frame.innerHTML = `\n<style>\n  .order-id{\n    font-weight: bold;\n    font-size: 14px;\n    line-height: 16px;\n    text-align: center;\n    color: #2B637E;\n  }\n  .prop{\n    color:#717171;\n    font-size: 13px;\n    line-height: 15px;\n  }\n  .val{\n    color: #333333;\n    font-weight: bold;\n    font-size: 13px;\n    line-height: 15px;\n    text-align: center;\n  }\n\n  .slide{\n    padding: 10px;\n    width: 100%;\n  }\n</style>\n`;\n    let options = {\n      navigation: {\n        nextEl: \".swiper-button-next\",\n        prevEl: \".swiper-button-prev\",\n      },\n    };\n\n    let slides: HTMLIonSlidesElement = document.createElement(\"ion-slides\");\n    slides.innerHTML = `${tabsContent}`;\n    slides.options = options;\n    if (sameGeoOrders.length > 1) {\n      let div = document.createElement(\"div\");\n      div.setAttribute(\"style\", \"text-align:center;\");\n      div.innerText = `${sameGeoOrders.length} заказов`;\n      frame.appendChild(div);\n    }\n    frame.appendChild(slides);\n    return frame;\n  }\n\n  async popover(ev: any, content: any) {\n    content = content.innerHTML;\n    const popover = await this.popoverController.create({\n      component: OrderComponent,\n      event: ev,\n      translucent: true,\n      componentProps: {\n        'content': content\n      },\n      cssClass: 'popover'\n    });\n    return popover\n  }\n\n  private requestDirection(lat: number, lng: number) {\n    this.destination = { lat, lng };\n\n    DirectionsService.route({\n      'origin': this.origin,\n      'destination': this.destination,\n      'travelMode': \"DRIVING\"\n    }).then((result: DirectionsResult) => {\n      console.log(JSON.stringify(result, null, 2));\n      this.bounds = result.routes[0].bounds;\n      if (!this.renderer) {\n        this.renderer = this.map.addDirectionsRendererSync({\n          'directions': result,\n          'panel': 'guide',\n          'polylineOptions': {\n            'points':\n              [\n                this.origin,\n                this.destination\n              ]\n          },\n          'markerOptions': {\n            visible: false\n          }\n        });\n        this.renderer.on(GoogleMapsEvent.DIRECTIONS_CHANGED).subscribe(this.onDirectionChanged.bind(this));\n      } else {\n        let decodedPoints = GoogleMaps.getPlugin().geometry.encoding.decodePath(\n          result.routes[0].overview_polyline\n        );\n        this.map.addPolyline({\n          points: decodedPoints,\n          'color': '#4a4a4a',\n          width: 4,\n          geodesic: false\n        });\n        this.map.addMarkerSync({ position: this.destination });\n        // this.renderer.setDirections(result);\n      }\n    });\n  }\n  onDirectionChanged() {\n    let directions: DirectionsResult = this.renderer.getDirections();\n    this.origin = directions.routes[0].legs[0].start_location;\n    this.destination = directions.routes[0].legs[0].end_location;\n    this.bounds = directions.routes[0].bounds;\n  }\n  onSplitterDragEnd() {\n    this.map.animateCamera({\n      'target': this.bounds,\n      'duration': 500\n    });\n\n  }\n\n}\n"]}