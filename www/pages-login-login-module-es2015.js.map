{"version":3,"sources":["./src/app/pages/login/login.module.ts","./src/app/pages/login/login.page.ts","./src/app/pages/login/login.page.html"],"names":[],"mappings":"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","file":"pages-login-login-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport {NgxMaskModule} from 'ngx-mask'\nimport { IonicModule } from '@ionic/angular';\nimport {IconsModule} from '../../icons/icons.module'\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [\n    IconsModule,\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    NgxMaskModule.forRoot(),\n    RouterModule.forChild(routes)\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","import {\n  animate, state,\n  style,\n\n  transition, trigger\n} from '@angular/animations';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AndroidPermissions } from '@ionic-native/android-permissions/ngx';\nimport { AlertController, Platform } from '@ionic/angular';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { MapService } from 'src/app/services/sys/map.service';\nimport { AuthService } from '../../services/auth.service';\nimport { CourierService } from '../../services/courier.service';\nimport { SettingsService } from '../../services/settings.service';\nimport { StateService } from '../../services/state.service';\nimport { SysService } from '../../services/sys.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n  animations: [\n    trigger('openClose', [\n      // ...\n      state('open', style({\n        height: '264px',\n      })),\n      state('closed', style({\n        height: '50px',\n      })),\n      transition('open => closed', [\n        animate('0.5s')\n      ]),\n      transition('closed => open', [\n        animate('0.5s')\n      ]),\n    ]),\n    trigger('openClose1', [\n      // ...\n      state('open', style({\n        height: '50px',\n      })),\n      state('closed', style({\n        height: '0px',\n        display: 'none'\n      })),\n      transition('open => closed', [\n        animate('0.5s')\n      ]),\n      transition('closed => open', [\n        animate('0.5s')\n      ]),\n    ])\n  ]\n})\nexport class LoginPage implements OnInit {\n\n  public pl_window: boolean = false;\n  public error_phone: boolean = false;\n  public phone = '';\n  public loader: boolean = false;\n  public auth_step: boolean = false;\n  public code: string = null;\n  public resend_dis: boolean = false;\n  public dis_timer: number = null;\n  public $stopTimer: Subject<any> = new Subject();\n  constructor(private auth: AuthService,\n    private router: Router,\n    private alert: AlertController,\n    private plt: Platform,\n    private http: HttpClient,\n    public state$: StateService,\n    private AP: AndroidPermissions,\n    public courier: CourierService,\n    public settings: SettingsService,\n    public sys: SysService,\n    public sysMap: MapService\n  ) {\n    let self = this;\n\n    //проверяет авторизован ли пользователь на сервере\n\n    this.plt.ready().then((readySource) => {\n      console.log('sys:: платформа готова:', readySource);\n      if (readySource == 'android') {\n        this.AP.requestPermission(this.AP.PERMISSION.ACCESS_FINE_LOCATION);\n      }\n      this.auth.checkAuth().subscribe((data: any) => {\n        if (data.success == 'true') {\n          this.auth.setUser(data.sync_id);\n          this.settings.getSettings(data.sync_id);\n          self.router.navigate(['map']);\n          self.auth.initLogin();\n        } else {\n        }\n      })\n\n    })\n  }\n\n  ngOnInit() {\n\n    if (localStorage.debug == 'true') {\n      this.auth.isDebug = true;\n    }\n\n  }\n\n  public scanAuth() {\n    let self = this;\n    this.auth.scanData().then((data) => {\n      let id = data.text.slice(0, -4);\n      localStorage.setItem('cId', id);\n      let a_data = {\n        'action': 'auth',\n        'barcode': data.text,\n        // 'barcode': '33dbcda2db5311e39760309e88d17f08,3431',\n      };\n      self.auth.login(a_data).subscribe((data: any) => {\n        if (data.success == \"true\") {\n          self.auth.initLogin(data.sync_id);\n          this.auth.setUser(data.sync_id);\n          this.settings.getSettings(data.sync_id);\n          self.router.navigate(['map']);\n\n        } else {\n          self.auth.showError(1);\n        }\n      });\n    });\n  }\n\n\n  public phoneAuth() {\n    if (!this.auth_step) {\n      this.pl_window = !this.pl_window;\n    }\n  }\n\n  public enterPhone() {\n    if (this.phone && this.phone.length > 9) {\n      this.loader = true;\n      this.sendPhone();\n    } else {\n      this.error_phone = true;\n    }\n\n  }\n\n  public changePhone() {\n    this.error_phone = false;\n  }\n\n  public sendPhone() {\n    const url = this.sys.proxy + \"https://mok.flexcore.ru/client/registerP/\";\n    const data = \"action=registerP&phone=8\" + this.phone + \"&type=courier\";\n    var self = this;\n    this.sendPost(url, data).subscribe((res: any) => {\n      if (res.success == 'true') {\n        self.authStep();\n      } else {\n        this.showLoginError(4);\n      }\n    }, (err) => {\n      this.showLoginError(3);\n    })\n    this.startTimer();\n  }\n\n  public sendPost(url: string, data: any) {\n    console.log('send_data', data);\n    const httpOptions = {\n      headers: new HttpHeaders({\n        'Access-Control-Allow-Origin': '*',\n        'Content-type': 'application/x-www-form-urlencoded',\n        'Access-Control-Allow-Headers': '*'\n      })\n    };\n\n    return this.http.post(url, data, httpOptions);\n  }\n\n  public authStep() {\n    this.auth_step = true;\n    this.loader = false;\n  }\n\n  public enterCode() {\n    const url = this.sys.proxy + \"https://mok.flexcore.ru/courier/authP/\";\n    var data = \"action=authP&phone=8\" + this.phone + \"&code=\" + this.code + \"&type=courier\";\n\n    var self = this;\n    this.sendPost(url, data).subscribe((res: any) => {\n      console.log('sendCode', res);\n\n      if (res.success == 'true') {\n        self.login(res.user);\n      } else {\n        self.error_phone = true;\n      }\n    })\n  }\n\n  public login(courier: string) {\n    let base = \"33dbcda2db5311e39760309e88d17f08,\" + courier;\n    localStorage.setItem('cId', courier);\n    var self = this;\n    let a_data = {\n      'action': 'auth',\n      'barcode': base,\n    };\n\n    this.auth.login(a_data).subscribe((data: any) => {\n\n      if (data.success == \"true\") {\n        this.auth.setUser(data.sync_id);\n        this.settings.getSettings(data.sync_id);\n        self.router.navigate(['map']);\n        self.auth.initLogin();\n      } else {\n        self.auth.showError(1);\n      }\n    });\n  }\n\n  public showLoginError(err_n: number) {\n    switch (err_n) {\n      case 3:\n        this.loader = false;\n        this.phone = null;\n        this.pl_window = false;\n        this.auth.showError(err_n);\n        break;\n      case 4:\n        this.loader = false;\n        this.phone = null;\n        this.pl_window = false;\n        this.auth.showError(err_n);\n        break;\n    }\n\n  }\n\n  public startTimer() {\n    if (this.resend_dis) {\n      return false;\n    }\n    this.resend_dis = true;\n    this.dis_timer = 30;\n    var self = this;\n\n    this.state$.interval_1ss.pipe(takeUntil(this.$stopTimer)).subscribe(() => {\n      self.dis_timer--;\n      if (self.dis_timer == 0) {\n        self.dis_timer = null;\n        self.$stopTimer.next(null);\n        self.resend_dis = false;\n      }\n    });\n  }\n\n  public reEnterPhone() {\n    if (this.resend_dis) {\n      return false;\n    }\n    this.sendPhone();\n  }\n\n  public changeCode() { }\n}\n","<ion-content>\n  <div class=\"lg-wrp\">\n    <div class=\"lg-btn\">\n      <button class=\"lg-login\" [@openClose1]=\"auth_step ? 'closed' : 'open'\" (click)=\"scanAuth()\">\n        Войти по QR-коду\n      </button>\n      <button class=\"lg-login login-phone\" [ngClass]=\"{'btn-open' : pl_window}\"\n        [@openClose]=\"pl_window ? 'open' : 'closed'\">\n        <div class=\"btn-wrp\">\n          <div class=\"btn-title\" (click)=\"phoneAuth()\">Войти по номеру телефона</div>\n          <div class=\"btn-body phone-b\" *ngIf=\"!auth_step\">\n            <div class=\"bi-title\">Введите номер</div>\n            <div class=\"bi-inp\">\n              <span class=\"error-phone\" *ngIf=\"error_phone\">Введите корректный телефон</span>\n              <input type=\"tel\" prefix=\"+7 \" mask=\"(000) 000 00 00\" class=\"phone-inp\" [showMaskTyped]=\"true\"\n                [(ngModel)]=\"phone\" (input)=\"changePhone()\" />\n              <button class=\"enter-phone\" (click)=\"enterPhone()\">Отправить</button>\n            </div>\n            <div class=\"sh-icons\" *ngIf=\"loader\">\n              <i-feather name=\"loader\"></i-feather>\n            </div>\n          </div>\n          <div class=\"btn-body code-b\" *ngIf=\"auth_step\">\n            <div class=\"bi-title\">Введите код</div>\n            <div class=\"bi-inp\">\n              <span class=\"error-phone\" *ngIf=\"error_phone\">Неверный код</span>\n              <input type=\"tel\" mask=\"00-00\" class=\"phone-inp\" [showMaskTyped]=\"true\" [(ngModel)]=\"code\"\n                (input)=\"changePhone()\" />\n              <button class=\"enter-phone\" (click)=\"enterCode()\">Отправить</button>\n              <button class=\"enter-phone\" [ngClass]=\"{'btn-resend' : resend_dis}\" (click)=\"reEnterPhone()\">\n                Отправить повторно {{dis_timer}}\n              </button>\n            </div>\n            <div class=\"sh-icons\" *ngIf=\"loader\">\n              <i-feather name=\"loader\"></i-feather>\n            </div>\n          </div>\n        </div>\n      </button>\n    </div>\n  </div>\n</ion-content>"],"sourceRoot":"webpack:///"}