{"version":3,"sources":["./src/app/pages/courier/courier.module.ts","./src/app/pages/courier/courier.page.ts","./src/app/pages/courier/courier.page.html"],"names":[],"mappings":"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","file":"pages-courier-courier-module-es2015.js","sourcesContent":["import { DragDropModule } from '@angular/cdk/drag-drop';\nimport { ScrollingModule } from '@angular/cdk/scrolling';\nimport { CommonModule, registerLocaleData } from '@angular/common';\nimport localeRu from '@angular/common/locales/ru';\nimport { LOCALE_ID, NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule, Routes } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { IconsModule } from '../../icons/icons.module';\nimport { CourierPage } from './courier.page';\n\nregisterLocaleData(localeRu, 'ru');\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CourierPage\n  }\n];\n\n@NgModule({\n  imports: [\n    IconsModule,\n    CommonModule,\n    FormsModule,\n    DragDropModule,\n    IonicModule,\n    ScrollingModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [CourierPage],\n  providers: [\n    { provide: LOCALE_ID, useFactory: () => 'ru' }\n  ]\n})\nexport class CourierPageModule { }\n","import {\n  animate,\n  state,\n  style,\n  transition,\n  trigger\n} from '@angular/animations';\nimport { CdkDrag, CdkDragDrop, CdkDropList, moveItemInArray } from '@angular/cdk/drag-drop';\nimport { HttpClient } from '@angular/common/http';\nimport { Component, ElementRef, OnInit, QueryList, ViewChild, ViewChildren } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner/ngx';\nimport { CallNumber } from '@ionic-native/call-number/ngx';\nimport { Network } from '@ionic-native/network/ngx';\nimport { Vibration } from '@ionic-native/vibration/ngx';\nimport { PopoverController } from '@ionic/angular';\nimport { Observable, Subject } from 'rxjs';\nimport { map, takeUntil } from 'rxjs/operators';\nimport { Order } from 'src/app/interfaces/order';\nimport { MapService } from 'src/app/services/sys/map.service';\nimport { OrderService } from 'src/app/services/sys/order.service';\nimport { HelpComponent } from '../../components/help/help.component';\nimport { NoteComponent } from '../../components/note/note.component';\nimport { ScanPVZResponse } from '../../interfaces/scan-pvzresponse';\nimport { AuthService } from '../../services/auth.service';\nimport { CourierService } from '../../services/courier.service';\nimport { SettingsService } from '../../services/settings.service';\nimport { StateService } from '../../services/state.service';\nimport { SysService } from '../../services/sys.service';\nimport { DataService } from '../../services/sys/data.service';\n\n\n@Component({\n  selector: 'app-courier',\n  templateUrl: './courier.page.html',\n  styleUrls: ['./courier.page.scss'],\n  animations: [\n    trigger('openClose', [\n      // ...\n      state('open', style({\n        height: 'auto',\n      })),\n      state('closed', style({\n        height: 'max-content',\n      })),\n      transition('open => closed', [\n        animate('0.5s')\n      ]),\n      transition('closed => open', [\n        animate('0.5s')\n      ]),\n    ])\n  ]\n})\nexport class CourierPage implements OnInit {\n  @ViewChild('sInput') public sInput: ElementRef;\n  @ViewChild(CdkDropList, { static: false })\n  Drop_L: CdkDropList;\n  @ViewChildren(CdkDrag)\n  DragItems: QueryList<CdkDrag>;\n\n  public orders: any = null;\n  public statuses: any = null;\n  public selectedTab = 1;\n  public ordersInit = false;\n  public loader = false;\n  public local_stop$: Subject<any> = new Subject();\n  public localcheck = false;\n  public g_done = 0;\n  public g_process = 0;\n  public g_fail = 0;\n  public lvl_ind = { width: '0%' };\n  public btn_go = false;\n  public subBtnCond = true;\n  public scanView = false;\n  public scanInput: string;\n  public scan_process = false;\n  public find_order = false;\n  public isWorkEnded = false;\n  public searchString = '';\n  private ord: Observable<any[]>;\n  public orders_c: Observable<any>;\n  public slicer: number = this.howSlice();\n  public callWindow = false;\n  public selectedPhone: string;\n  public orderPhones: string[];\n  public order: Order;\n  public noDrag = false;\n  private segment: number[] = [1];\n\n  constructor(public courier: CourierService,\n    private router: Router,\n    public state$: StateService,\n    public auth: AuthService,\n    private bs: BarcodeScanner,\n    public vbr: Vibration,\n    public settings: SettingsService,\n    private sys: SysService,\n    private data: DataService,\n    public popoverController: PopoverController,\n    private map: MapService,\n    private orderService: OrderService,\n    private CL: CallNumber,\n    private network: Network,\n    private http: HttpClient,\n\n\n  ) {\n    const self = this;\n\n    this.initContent();\n    if (this.state$.position.getValue() != null) {\n      this.startRoute(false);\n    }\n\n\n    this.state$.state.pipe(takeUntil(this.local_stop$)).subscribe((state) => {\n      const a = state;\n      if (state == 'orders_init') {\n        self.initContent();\n      }\n    });\n    this.initConditions();\n    this.ord = this.data.orders.asObservable();\n    this.prepareOrdersList();\n\n  }\n\n  public initConditions() {\n    const app_mode = this.auth.getMode();\n    switch (app_mode) {\n      case 'fullAuto':\n        if (!this.state$.confirmed) { this.subBtnCond = true; }\n        break;\n      case 'auto':\n        this.subBtnCond = false;\n        break;\n      case 'fullHand':\n        if (!this.state$.confirmed) { this.subBtnCond = true; }\n        break;\n      case 'hand':\n        this.subBtnCond = false;\n        break;\n    }\n  }\n\n  ngAfterViewChecked() {\n    this.Drop_L.autoScrollDisabled = false;\n    this.DragItems.changes.subscribe((r) => {\n      this.DragItems.forEach(DragItem => {\n        DragItem.dragStartDelay = {\n          touch: 500,\n          mouse: 100\n        };\n      });\n    });\n  }\n\n  ngOnInit() {\n    this.settings.checkout = !!(this.settings.rules.storeCheckMode - 0);\n    if (!this.settings.checkout) {\n      this.auth.checkState = 'checkedOut';\n    } else {\n      this.auth.checkState = 'checked' + localStorage.check;\n    }\n    if (this.settings.rules.appMode == 'hand') {\n      this.state$.manual_route = true;\n    }\n    if (this.settings.rules.appMode.toLowerCase().includes('auto')) {\n      this.noDrag = true;\n    }\n    this.data.orders.subscribe((orders) => {\n      this.courier.count_orders(orders);\n    });\n  }\n\n  public scanInputStart() {\n    const self = this;\n    this.scanView = !this.scanView;\n    this.loader = true;\n    if (this.auth.getScanMode() == 'scan') {\n      self.courier.findOrder(this.scanInput).subscribe((res) => {\n        self.scanInput = null;\n        if (res.success == 'true') {\n          self.courier.sumbitOrder(res.order_id).subscribe((re_s) => {\n            console.log('courier_page sbo resp', re_s);\n            if (re_s) {\n              self.submitOrder();\n            } else {\n              self.scanView = false;\n            }\n            self.loader = false;\n          });\n        } else {\n          self.auth.showError(2);\n          self.loader = false;\n          self.scanView = false;\n        }\n        self.state$.confirmed = true;\n        self.orders.forEach((order: any) => {\n          if (order.confirm == '0') {\n            self.state$.confirmed = false;\n          }\n        });\n      });\n    } else {\n      self.loader = false;\n    }\n    this.scan_process = false;\n  }\n\n  public scanInputChange() {\n    console.log('inputData', this.scanInput);\n    const self = this;\n    if (this.scan_process) { return false; }\n    this.scan_process = true;\n    if (this.find_order) {\n      setTimeout(function () {\n        self.scanSearch();\n      }, 1500);\n    } else {\n      setTimeout(function () {\n        self.scanInputStart();\n      }, 1500);\n    }\n  }\n\n  public submitOrder() {\n    const self = this;\n    console.log('SUBMIT_ORDER_CALL');\n    if (this.auth.getScanMode() == 'scan') {\n      this.scanView = !this.scanView;\n      setTimeout(function () {\n        self.sInput.nativeElement.focus();\n      }, 500);\n      return false;\n    }\n    this.bs.scan().then((data) => {\n      if (data.text != '') {\n        self.loader = true;\n        self.courier.findOrder(data.text).subscribe((res) => {\n          if (res.success == 'true') {\n            self.courier.sumbitOrder(res.order_id).subscribe((re_s) => {\n              if (re_s) {\n                self.submitOrder();\n              }\n              self.loader = false;\n            });\n          } else {\n            self.auth.showError(2);\n            self.loader = false;\n          }\n          self.state$.confirmed = true;\n          self.orders.forEach((order: any) => {\n            if (order.confirm == '0') {\n              self.state$.confirmed = false;\n            }\n          });\n        });\n      } else {\n        self.loader = false;\n      }\n    });\n  }\n\n  public ordersListChanged(orders: Order[]) {\n    this.orders = orders;\n    const way: any[] = new Array();\n    orders.forEach(order => {\n      if (Number(order.status_id) == 1) {\n        way.push(order.id);\n      }\n    });\n    this.state$.old_way = way;\n  }\n\n  ngOnDestroy() {\n    this.local_stop$.next(null);\n    this.state$.orders_page_check = false;\n  }\n\n  public manualRoute() {\n    if (this.state$.manual_route) {\n      this.courier.changeRouteMode('auto');\n    } else {\n      this.courier.changeRouteMode('fullHand');\n    }\n    this.vbr.vibrate(300);\n  }\n\n\n  public initContent() {\n    const self = this;\n    this.state$.orders.subscribe(() => {\n      this.orders = this.state$.orders_data;\n      console.log('sys::initСontent orders', this.orders);\n      this.statuses = [{ id: 4, status: 'Не доставлено' }, { id: 5, status: 'Доставлено' }, { id: 6, status: 'Частично доставлено' }];\n      this.ordersInit = true;\n      self.count_orders();\n    });\n  }\n\n\n  public getStatus(order: Order) {\n    return this.courier.getStatus(order);\n  }\n\n  public selectOrder(id: string) {\n\n    this.router.navigate(['/order', id]);\n  }\n\n  public tabSelect(tab: number) {\n    this.selectedTab = tab;\n  }\n\n  customTrackBy(index: number, obj: any): any {\n    return index;\n  }\n\n  public getCondition(status: number) {\n    switch (this.selectedTab) {\n      case 1:\n        if (status == 1) { return true; }\n        break;\n      case 2:\n        if (status == 5 || status == 6) { return true; }\n        break;\n      case 3:\n        if (status == 4) { return true; }\n        break;\n    }\n    return false;\n  }\n\n  public count_orders(orders = this.courier.ordersInfo) {\n    let g_done = 0;\n    let g_process = 0;\n    let g_fail = 0;\n\n    for (let i = 0; i < orders.length; i++) {\n      switch (String(orders[i].status_id)) {\n        case '4':\n          g_fail++;\n          break;\n        case '5':\n          g_done++;\n          break;\n        case '6':\n          g_done++;\n          break;\n        case '1':\n          g_process++;\n          break;\n      }\n    }\n    this.g_done = g_done;\n    this.g_process = g_process;\n    this.g_fail = g_fail;\n  }\n\n  public startRoute(start = true, stop = false) {\n    const self = this;\n    this.auth.checkAuth().subscribe((data) => {\n      if (data.success == 'true') {\n        self.sendStartRoute(data.sync_id, start, stop);\n      }\n    });\n  }\n\n  public stopRoute() {\n    this.startRoute(false, true);\n  }\n\n\n  public sendStartRoute(cid: number, start: boolean, stop: boolean) {\n    const url = 'geo/route_start.php';\n    const data = {\n      cid: cid,\n      lt: this.state$.position.getValue().lt,\n      lg: this.state$.position.getValue().lg,\n      start: '',\n      stop: ''\n    };\n    if (start) {\n      data.start = '1';\n    }\n    if (stop) {\n      data.stop = '1';\n    }\n    const self = this;\n    this.auth.sendPost(url, data).subscribe((data) => {\n      if (data.success == true) {\n        self.btn_go = true;\n        if (data.result == 'stop') {\n          self.btn_go = false;\n        }\n      }\n    });\n  }\n\n  public scanSearch() {\n    const self = this;\n    this.scanView = !this.scanView;\n    this.loader = true;\n    if (this.auth.getScanMode() == 'scan') {\n      self.courier.findOrder(this.scanInput).subscribe((res) => {\n        self.scanInput = null;\n        if (res.success == 'true') {\n          self.selectOrder(res.order_id);\n        } else {\n          self.auth.showError(2);\n        }\n        self.loader = false;\n        self.scanView = false;\n      });\n    } else {\n      self.loader = false;\n    }\n    this.scan_process = false;\n    this.find_order = false;\n  }\n\n  public findOrder() {\n    const self = this;\n    if (this.auth.getScanMode() == 'scan') {\n      this.scanView = !this.scanView;\n      this.find_order = true;\n      setTimeout(function () {\n        self.sInput.nativeElement.focus();\n      }, 500);\n      return false;\n    }\n\n    this.bs.scan().then((data) => {\n      self.courier.findOrder(data.text).subscribe((res) => {\n        if (res.success == 'true') {\n          self.selectOrder(res.order_id);\n        } else {\n          self.auth.showError(2);\n        }\n      });\n    });\n  }\n\n  // Завершение рабочего дня курьера\n  public endWork() {\n    this.courier.endWork().subscribe((data: { success: boolean }) => {\n      if (data.success) {\n        this.isWorkEnded = true;\n        this.sys.presentToast('Рабочий день завершен',\n          'success');\n      }\n    },\n      error => {\n        this.sys.presentToast('Ошибка: ' + error.message, 'danger');\n      });\n\n  }\n  doRefresh() {\n    this.data.getApiData();\n\n  }\n\n  public segmentChanged(event: any) {\n    const ids = [Number(event.target.value)];\n    if (event.target.value == '5') {\n      ids.push(6);\n    }\n    this.segment = ids;\n    this.prepareOrdersList(ids);\n  }\n\n  public onSearchChange(event: any) {\n    this.searchString = event.target.value;\n    this.prepareOrdersList(this.segment);\n\n  }\n  public prepareOrdersList(ids = this.segment) {\n\n    this.orders_c = this.ord.pipe(\n      map(\n        orders => orders && orders.filter(order => ids.includes(Number(order.status_id)))\n          .filter(\n            order => order.client_address.toLowerCase().includes(this.searchString.toLowerCase()) || order.client_fio.toLowerCase().includes(this.searchString.toLowerCase()) ||\n              order.client_id.toLowerCase().includes(this.searchString.toLowerCase())\n          )\n          .slice(this.slicer)\n      ),\n      map(\n        (orders) => { orders.forEach((order) => { order.show = false; }); this.orders = orders; return orders; }\n      )\n    );\n\n  }\n  public howSlice(): number {\n    return (this.settings.rules.typeRoute === 'standart' ? 0 : 1);\n  }\n\n  async popoverHelp(ev: any) {\n    const popover = await this.popoverController.create({\n      component: HelpComponent,\n      event: ev,\n      translucent: true,\n      cssClass: 'help'\n    });\n    return popover;\n  }\n\n  async showHelp(ev: any) {\n    const popover = await this.popoverHelp(ev);\n    popover.present();\n\n  }\n\n  public showRoute(order: Order) {\n    this.map.showRoute(order);\n  }\n\n  public drop(event: CdkDragDrop<any[]>) {\n\n    moveItemInArray(this.orders, event.previousIndex, event.currentIndex);\n    this.data.rewriteOrders(this.orders);\n    console.log('sys:: массив заказов после перетаскивания: ', this.orders);\n  }\n\n  async popoverNote(ev: any, orderId: string) {\n    const popover = await this.popoverController.create({\n      component: NoteComponent,\n      event: ev,\n      translucent: true,\n      cssClass: 'help',\n      componentProps: {\n        orderId: orderId\n      }\n    });\n    return popover;\n  }\n\n  public async note(ev: any, orderId: string) {\n    const popover = await this.popoverNote(ev, orderId);\n    popover.present();\n  }\n\n  // Звонок получателю заказа\n  public phoneClick(action: string, order: Order) {\n    this.order = order;\n    this.orderPhones = this.parsePhone(order.client_phone);\n    const courierPhone = this.parsePhone(order.courier_phone)[0];\n    if (this.orderPhones.length == 1) {\n      this.selectedPhone = this.orderPhones[0];\n    }\n\n    switch (action) {\n      case 'init':\n        this.callWindow = !this.callWindow;\n        break;\n      case 'phone':\n        this.CL.callNumber(this.selectedPhone, false).then(() => { });\n        this.callWindow = false;\n        this.order = undefined;\n        break;\n      case 'operator':\n        if (this.network.type == 'none') {\n          this.phoneClick('phone', order);\n          return false;\n        }\n        if (this.selectedPhone && courierPhone) {\n          const url = 'orders';\n          const data = {\n            action: 'send_phone',\n            client_number: this.selectedPhone,\n            cur_number: courierPhone,\n          };\n          this.auth.sendPost(url, data).subscribe((resp) => {\n            console.log('call_subs', resp);\n          });\n          this.auth.showError(9);\n          this.callWindow = false;\n        }\n        this.order = undefined;\n        break;\n    }\n  }\n\n  // Парсинг номера телефона из строки с лишним мусором\n  public parsePhone(phone: string): Array<string> {\n    const phones: Array<string> = [];\n    phone = phone.replace(/\\D+/g, '');\n\n    while (phone.length > 7) {\n      phone = this.normalizePhoneNumber(phone);\n      phones.push(phone.slice(null, 11));\n      phone = phone.slice(11);\n    }\n    return phones;\n  }\n\n  // Жонглирование '8' / '+7'\n  private normalizePhoneNumber(phone: string): string {\n    if (phone[0] !== '8' && phone[0] !== '7' && phone.length !== 11) {\n      phone = '8' + phone;\n    }\n    if (phone.length == 7 || phone.length == 10) {\n      phone = '8' + phone;\n    }\n    if (phone[0] !== '8' && phone.length == 11) {\n      phone = '8' + phone.slice(1);\n    }\n    return phone;\n  }\n\n\n  public vibr($event?: any) {\n    this.vbr.vibrate(10);\n    console.log('sys:: *Вибирация*');\n  }\n\n  public getScanData() {\n    this.bs.scan().then((data) => {\n      console.log(`sys:: данные штрихкода: ${data.text}`);\n      const url = this.sys.proxy + 'https://mobile.postsrvs.ru/getScanPVZ.php';\n      const reqData = {\n        type: \"scanOrder\",\n        uuid: this.auth.getUuid(),\n        courieriId: this.auth.getUserId(),\n        clientId: data.text\n      };\n      this.http.post(url, reqData).subscribe((resp: ScanPVZResponse) => {\n        let color = 'success';\n        if (!resp.success) {\n          color = 'danger';\n        }\n        this.sys.presentToast(resp.dateTime, 'success', resp.message);\n      })\n\n    });\n  }\n\n  //Возвращает заметку к заказу\n  //@orderId - ид заказа\n  public orderNote(orderId: string) {\n    return localStorage.getItem(orderId);\n  }\n\n}\n","<ion-header>\n  <ion-toolbar class='toolbar'>\n    <ion-buttons slot=\"start\">\n      <ion-button (click)=\"findOrder()\">\n        <i-feather name=\"search\" slot='start'></i-feather>\n      </ion-button>\n      <ion-button *ngIf=\"auth.getGuessMode()\">\n        <i>G</i>\n      </ion-button>\n    </ion-buttons>\n    <ion-title>Мои заказы</ion-title>\n    <ion-title size=\"small\" color=\"dark\">{{state$.filial}}</ion-title>\n    <ion-buttons slot=\"primary\">\n      <ion-button (click)=\"doRefresh()\">\n        <ion-icon slot=\"icon-only\" name=\"refresh-circle-sharp\"></ion-icon>\n      </ion-button>\n      <ion-button *ngIf=\"subBtnCond\" (click)=\"submitOrder()\">\n        <i-feather name=\"box\"></i-feather>\n      </ion-button>\n      <ion-button *ngIf=\"courier.sortOrders?.g_process == 0 && !isWorkEnded\" (click)=\"endWork()\">\n        <i-feather name=\"check-square\"></i-feather>\n      </ion-button>\n      <ion-button (click)=\"showHelp($event)\">\n        <ion-icon slot=\"icon-only\" name=\"help-circle-outline\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n\n  <div class=\"c-wrp\" [ngClass]=\"{  'm_wrp' : auth.getMode() == 'fullHand' || auth.getMode() == 'hand'}\">\n    <ion-button *ngIf=\"settings.rules.scanPVZ == '1'\" fill=\"solid\" size='default' class='light-blue-button'\n      (click)=\"getScanData()\">\n      <ion-icon slot=\"start\" name=\"barcode-sharp\" size=\"large\"></ion-icon>\n      Прием\n    </ion-button>\n    <ion-segment (ionChange)=\"segmentChanged($event)\" value='1'>\n      <ion-segment-button value=\"1\">\n        <ion-label>В работе</ion-label>\n      </ion-segment-button>\n      <ion-segment-button value=\"5\">\n        <ion-label>Доставлено</ion-label>\n      </ion-segment-button>\n      <ion-segment-button value=\"4\">\n        <ion-label>Не доставлено</ion-label>\n      </ion-segment-button>\n    </ion-segment>\n    <div class=\"c-body\" *ngIf=\"ordersInit && !auth.getGuessMode()\">\n      <ion-searchbar placeholder=\"Поиск по заказам\" inputmode=\"text\" (ionChange)=\"onSearchChange($event)\"\n        [debounce]=\"250\" [(ngModel)]=\"searchString\" animated></ion-searchbar>\n\n      <cdk-virtual-scroll-viewport cdkDropList (cdkDropListDropped)=\"drop($event)\" itemSize=\"50\"\n        style=\"height: 100%; width: 100%; min-height: 50vh;\">\n        <ion-item *ngFor=\"let order of orders_c | async\" [ngClass]=\"{\n         overdue: (order.overdue == '1' || order.required == true) && order.status_id == 1\n        }\" (click)=\"selectOrder(order.id)\" appLongPress (longPress)=\"vibr()\" (hold)=\"vibr()\" (cdkDragStarted)=\"vibr()\"\n          cdkDrag [cdkDragStartDelay]=\"500\" [cdkDragDisabled]='noDrag'>\n          <ion-label [@openClose]=\"order.show ? 'open' : 'closed'\">\n            <div class='title'>\n              <span>\n                <span class='client-id'> {{order.client_id}}</span>\n                <span> ({{order.company}})</span>\n              </span>\n              <span class='client-id'>\n                <span *ngIf=\"order.datetime_from\">c {{ order.datetime_from | date: 'H:mm':'ru' }} </span>\n                <span *ngIf=\"order.datetime_to\">до {{ order.datetime_to | date: 'H:mm':'ru' }}</span>\n              </span>\n            </div>\n            <div class='name'>{{order.client_fio}}</div>\n            <div class='addr'>{{order.client_address}}</div>\n\n            <div class=\"actions\" *ngIf='order.show'>\n              <ion-button fill=\"solid\" size='default' (click)=\"note($event, order.id); $event.stopPropagation()\"\n                id='light-blue-button'>\n                <ion-icon slot=\"start\" name='document'></ion-icon>\n                Заметки\n              </ion-button>\n              <ion-button fill=\"solid\" size='default' (click)=\"showRoute(order); $event.stopPropagation()\"\n                id=\"light-purple-button\">\n                <ion-icon slot=\"start\" name=\"location-outline\"></ion-icon>\n                Маршрут\n              </ion-button>\n              <ion-button fill=\"solid\" size='default' (click)=\"phoneClick('init', order); $event.stopPropagation()\"\n                id='light-green-button'>\n                <ion-icon slot=\"start\" name=\"call-outline\"></ion-icon>\n                Позвонить\n              </ion-button>\n            </div>\n            <ion-text *ngIf=\"!!orderNote(order.id)\" class='note' color=\"dark\">\n              &nbsp;<span>{{orderNote(order.id)}}</span>&nbsp;\n            </ion-text>\n          </ion-label>\n          <ion-icon name=\"ellipsis-vertical\" slot='start' class='points'></ion-icon>\n\n          <div class=\"actions-button\" (click)=\"order.show = !order.show; $event.stopPropagation()\">\n            <ion-icon src='../../../assets/actions-arrows.svg' [ngClass]=\"{turned: order.show == true }\"></ion-icon>\n          </div>\n        </ion-item>\n      </cdk-virtual-scroll-viewport>\n    </div>\n    <div class='ion-padding sub-footer'>\n      <div class=\"orders-lable ion-justify-content-between ion-wrap\">\n        <div class='ion-margin-vertical'>\n          <span>Всего:</span> {{courier.sortOrders.all}}\n        </div>\n        <div *ngIf=\"courier.sortOrders.g_process != 0\" class='ion-margin'>\n          <span>В работе:</span> {{courier.sortOrders?.g_process}}\n        </div>\n        <div *ngIf=\"courier.sortOrders.g_fail != 0\" class='ion-margin'>\n          <span>Не доставлено:</span> <span style=\"color: red\">{{courier.sortOrders.g_fail}}</span>\n        </div>\n        <div *ngIf=\"courier.sortOrders.g_done != 0\" class='ion-margin'>\n          <span>Доставлено:</span> {{courier.sortOrders.g_done}}\n        </div>\n      </div>\n\n      <div class=\"checking\" *ngIf=\"auth.checkState !== 'checkedOut'\">\n        <ion-button (click)=\"auth.check('In')\" expand=\"full\" fill=\"solid\" *ngIf=\"auth.checkState == 'checkedundefined'\">\n          Приехал на склад\n        </ion-button>\n        <ion-button (click)=\"auth.check('Out')\" expand=\"full\" fill=\"solid\" *ngIf=\"auth.checkState == 'checkedIn'\">\n          Уехал со склада\n        </ion-button>\n      </div>\n    </div>\n    <div class=\"start-route\"\n      *ngIf=\"ordersInit && state$.orders_data != [] && state$.orders_data !== null && auth.checkState == 'checkedOut'\">\n      <button class=\"satrt-r-btn\" *ngIf=\"!btn_go && !this.state$.manual_route && auth.routingModeAuto\"\n        (click)=\"startRoute()\">\n        Начать маршрут\n      </button>\n      <button class=\"satrt-r-btn sr-stop\" *ngIf=\"btn_go && !this.state$.manual_route\" (click)=\"stopRoute()\">\n        Остановить маршрут\n      </button>\n      <button class=\"satrt-r-btn find-o-btn\" *ngIf=\"auth.getMode() == 'auto' || auth.getMode() == 'auto_wo'\"\n        [ngClass]=\"{  'manual_btn' : this.state$.manual_route}\" (click)=\"manualRoute()\">\n        <span *ngIf=\"this.state$.manual_route\">Автоматический режим</span>\n        <span *ngIf=\"!this.state$.manual_route\">Ручной режим</span>\n      </button>\n    </div>\n    <div class=\"scanWindow\" *ngIf=\"scanView\">\n      <div class=\"sw-wrp\">\n        <div class=\"sw-title\">Просканируйте штрихкод</div>\n        <input #sInput class=\"ionInp\" (change)=\"scanInputChange()\" [(ngModel)]=\"scanInput\" autofocus />\n      </div>\n    </div>\n  </div>\n\n  <div class=\"shirm\" *ngIf=\"loader\">\n    <ion-spinner name=\"lines-small\"></ion-spinner>\n  </div>\n  <div class=\"call-window\" *ngIf=\"callWindow\">\n    <div class=\"cw-body\">\n      <i-feather name=\"x-square\" (click)=\"callWindow = !callWindow\" size=\"large\"></i-feather>\n      <ion-list *ngIf=\"orderPhones.length > 1\">\n        <ion-radio-group name=\"selectedPhone\" [(ngModel)]=\"selectedPhone\">\n          <ion-list-header>\n            <ion-label>Выберите номер</ion-label>\n          </ion-list-header>\n          <ion-item *ngFor=\"let phone of orderPhones\">\n            <ion-radio value=\"{{phone}}\"></ion-radio>\n            <ion-label>{{phone}}</ion-label>\n          </ion-item>\n        </ion-radio-group>\n      </ion-list>\n      <button (click)=\"phoneClick('phone', order)\"\n        *ngIf=\"settings.rules.phoneMode == 'robotPhone' || settings.rules.phoneMode == 'phone' \">\n        Позвонить со своего телефона\n      </button>\n      <button (click)=\"phoneClick('operator',order)\"\n        *ngIf=\"settings.rules.phoneMode == 'robotPhone' || settings.rules.phoneMode == 'robot' \">\n        Позвонить через ip-шлюз\n      </button>\n    </div>\n  </div>\n</ion-content>"],"sourceRoot":"webpack:///"}