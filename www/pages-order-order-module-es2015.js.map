{"version":3,"sources":["./src/app/pages/order/order.module.ts","./src/app/pages/order/order.page.ts","./src/app/pages/order/order.page.html"],"names":[],"mappings":"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","file":"pages-order-order-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { OrderPage } from './order.page';\nimport {IconsModule} from '../../icons/icons.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OrderPage\n  }\n];\n\n@NgModule({\n  imports: [\n    IconsModule,\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [OrderPage]\n})\nexport class OrderPageModule { }\n","import {\n  animate,\n  state,\n  style,\n  transition,\n  trigger\n} from \"@angular/animations\";\nimport { HttpClient } from \"@angular/common/http\";\nimport { Component, OnInit } from \"@angular/core\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner/ngx';\nimport { CallNumber } from \"@ionic-native/call-number/ngx\";\nimport { Device } from '@ionic-native/device/ngx';\nimport { Network } from '@ionic-native/network/ngx';\nimport { ModalController } from '@ionic/angular';\nimport { Storage } from \"@ionic/storage\";\nimport { CacheService } from \"ionic-cache\";\nimport { Subject } from \"rxjs\";\nimport { takeUntil } from \"rxjs/operators\";\nimport { Meta } from 'src/app/interfaces/meta';\nimport { Order } from 'src/app/interfaces/order';\nimport { DeliveredComponent } from '../../components/delivered/delivered.component';\nimport { NotDeliveredComponent } from '../../components/not-delivered/not-delivered.component';\nimport { Reason } from \"../../interfaces/reason\";\nimport { Statuses } from \"../../interfaces/statuses\";\nimport { AuthService } from \"../../services/auth.service\";\nimport { CourierService } from \"../../services/courier.service\";\nimport { SettingsService } from \"../../services/settings.service\";\nimport { StateService } from \"../../services/state.service\";\nimport { SysService } from \"../../services/sys.service\";\nimport { MapService } from \"../../services/sys/map.service\";\nimport { OrderService } from '../../services/sys/order.service';\nimport { DrawPage } from '../draw/draw.page';\nimport { DataService } from './../../services/sys/data.service';\n\n@Component({\n  selector: \"app-order\",\n  animations: [\n    trigger('openClose', [\n      // ...\n      state('open', style({\n        height: '264px',\n      })),\n      state('closed', style({\n        height: '50px',\n      })),\n      transition('open => closed', [\n        animate('0.5s')\n      ]),\n      transition('closed => open', [\n        animate('0.5s')\n      ]),\n    ])],\n  templateUrl: \"./order.page.html\",\n  styleUrls: [\"./order.page.scss\"],\n})\nexport class OrderPage implements OnInit {\n  public orderId: string = null;\n  public clientId: string = null;\n  public status_id: number = null;\n  public status: string = null;\n  public goods: any = null;\n  public address: any = null;\n  public order: Order = null;\n  public name: string = null;\n  public timeFrom: string = null;\n  public timeTo: string = null;\n  public phone: string = null;\n  public pageInit: boolean = true;\n  public statuses: Statuses[] = [\n    { id: 4, status: \"Не доставлено\" },\n    { id: 5, status: \"Доставлено\" },\n    { id: 6, status: \"Частично доставлено\" },\n  ];\n  public reasons: Reason[] = [\n    { id: 1, reason: \"Не удалось Дозвониться!\" },\n    { id: 2, reason: \"Отказ, при созвоне с клиентом\" },\n    { id: 3, reason: \"Отказ от доставки без объяснения причины\" },\n    { id: 4, reason: \"Ошибка оформления ИМ\" },\n    { id: 5, reason: \"Получатель передумал\" },\n    { id: 6, reason: \"Товар не подошел/не понравился\" },\n    { id: 7, reason: \"Финансовые трудности у получателя\" },\n    { id: 8, reason: \"Перенос даты доставки получателем.\" },\n    { id: 10, reason: \"Не успел\" },\n    { id: 11, reason: \"Переехали/нев.Адрес\" },\n  ];\n  public commentText: any = null;\n  public g_quants: any = {};\n  public changeWindow: boolean = false;\n  public selectedPayment = \"1\";\n  public client_status = \"\";\n  public client_status_dt = \"\";\n  public client_status_id = \"\";\n  public vlog: string = null;\n  public poruch: string = null;\n  public mass: unknown = null;\n  public amount: unknown = null;\n  public email_input = \"\";\n  public phone_input = \"\";\n  public barcode_flag = false;\n  public barcode_url: string = null;\n  public barcode: unknown = null;\n  public selectedReason: any = null;\n  public selectedStatus: any = null;\n  public hide_status = false;\n  public $codeStop: Subject<any> = new Subject();\n  public showPhone: boolean = false;\n  public podrazd: unknown = null;\n  public email_error = false;\n  public pay_access: boolean = false;\n  public pay_access_data: any = null;\n  public show_info: boolean = false;\n  public show_email: boolean = false;\n  public callWindow: boolean = false;\n  public drawimage: boolean = false;\n  public imageToShow: string = null;\n  coords: Array<any>;\n  public orderPhones: Array<string> = [];\n  public selectedPhone: string;\n  public note: string;\n  public today = new Date();\n  public tomorrow = new Date();\n  public new_plan_date: string; //Дата переноса заказа\n  public openCompany = false;\n  public checkBase64Image: string;\n  public drawNeedle: boolean = true;\n\n  constructor(\n    private router: Router,\n    private route: ActivatedRoute,\n    private courier: CourierService,\n    private state$: StateService,\n    private auth: AuthService,\n    private http: HttpClient,\n    private CL: CallNumber,\n    public sys: SysService,\n    public settings: SettingsService,\n    private sysMap: MapService,\n    private data: DataService,\n    private storage: Storage,\n    private cache: CacheService,\n    private network: Network,\n    private orderService: OrderService,\n    private bs: BarcodeScanner,\n    private device: Device,\n    public modalController: ModalController\n  ) {\n    this.orderId = this.route.snapshot.paramMap.get(\"id\");\n\n    this.initOrder();\n    var img = localStorage.getItem(\"drawImg\");\n    if (img) {\n      this.imageToShow = \"data:image/jpg;base64,\" + img;\n    }\n  }\n\n  ngOnInit() {\n    this.courier.initStatuses();\n    this.tomorrow.setDate(this.tomorrow.getDate() + 1);\n    this.note = localStorage.getItem(this.orderId);\n  }\n\n  ngAfterViewChecked() {\n    var img = localStorage.getItem(\"drawImg\");\n    if (img) {\n      this.imageToShow = \"data:image/jpg;base64,\" + img;\n    }\n  }\n\n  public sendPost(url: string, data: any) {\n    data = JSON.stringify(data);\n\n    return this.http.post(url, data);\n  }\n\n  public async drawBtn(need: boolean) {\n    this.drawNeedle = need;\n    if (need) {\n      this.draw()\n    } else {\n      localStorage.removeItem(\"drawImg\");\n    }\n  }\n  public async draw() {\n    const modal = await this.modalController.create({\n      component: DrawPage,\n      showBackdrop: false\n    });\n    await modal.present();\n    const details = await modal.onDidDismiss();\n    console.log('sys:: drawModal dismiss details: ', details);\n    if (details.data == 'ok') {\n      this.doneOrder();\n    }\n  }\n\n  public parsePhone(phone: string): Array<string> {\n    let phones: Array<string> = [];\n    phone = phone.replace(/\\D+/g, \"\");\n\n    while (phone.length > 7) {\n      phone = this.normalizePhoneNumber(phone);\n      phones.push(phone.slice(null, 11));\n      phone = phone.slice(11);\n    }\n\n    return phones;\n  }\n\n  private normalizePhoneNumber(phone: string): string {\n    if (phone[0] !== \"8\" && phone[0] !== \"7\" && phone.length !== 11) {\n      phone = \"8\" + phone;\n    }\n    if (phone.length == 7 || phone.length == 10) {\n      phone = \"8\" + phone;\n    }\n    if (phone[0] !== \"8\" && phone.length == 11) {\n      phone = \"8\" + phone.slice(1);\n    }\n    return phone;\n  }\n\n  public phoneClick(action: string) {\n    this.orderPhones = this.parsePhone(this.phone);\n    let courierPhone = this.parsePhone(this.order.courier_phone)[0];\n\n    if (this.orderPhones.length == 1) {\n      this.selectedPhone = this.orderPhones[0];\n    }\n\n    switch (action) {\n      case \"init\":\n        this.callWindow = !this.callWindow;\n        break;\n      case \"phone\":\n        this.CL.callNumber(this.selectedPhone, false).then(() => { });\n        this.callWindow = false;\n        break;\n      case \"operator\":\n        if (this.network.type == 'none') {\n          this.phoneClick('phone');\n          return false;\n        }\n        if (this.selectedPhone && courierPhone) {\n          let url = \"orders\";\n          let data = {\n            action: \"send_phone\",\n            client_number: this.selectedPhone,\n            cur_number: courierPhone,\n          };\n          this.auth.sendPost(url, data).subscribe((resp) => {\n            console.log(\"call_subs\", resp);\n          });\n          this.auth.showError(9);\n          this.callWindow = false;\n        }\n        break;\n    }\n  }\n\n  public initOrder() {\n    this.storage.get('orders').then((orders: Array<Order>) => {\n      console.log('Список заказов из стоража', orders);\n    })\n    this.storage.get('orders').then((orders) => {\n      this.order = orders?.filter((order: Order) => { return order.id.toString() == this.orderId })[0];\n      this.goods = this.order.goods;\n      this.address = this.order.client_address;\n      this.timeFrom = this.order.datetime_from;\n      this.timeTo = this.order.datetime_to;\n      this.phone = this.order.client_phone;\n      this.status = this.order.status_text;\n      this.status_id = Number(this.order.status_id);\n      this.client_status = this.order.client_status;\n      this.client_status_dt = this.order.client_status_dt;\n      this.vlog = this.order.vlog;\n      this.poruch = this.order.poruch;\n      (this.mass = this.order.mass), (this.amount = this.order.amount);\n      this.podrazd = this.order.Podrazd;\n      this.coords = [this.order.lt, this.order.lg];\n      this.setQuants();\n      this.ifPaid();\n      this.getBalnce();\n      this.getPayData();\n      this.initClientInfo();\n    });\n  }\n\n  public getClientState() {\n    var states = this.state$.client_states.getValue();\n    var state_id = this.order.client_state;\n\n    for (let i = 0; i < states.length; i++) {\n      if (states[i].id == state_id) {\n        return states[i].state;\n      }\n    }\n\n    return \"\";\n  }\n  //Заполняет массив с ценой товаров и их количеством(для частички)\n  public setQuants() {\n    var goods = this.order.goods;\n\n    for (var i = 0; i < goods.length; i++) {\n      let good = goods[i];\n      let code = good.Code;\n      let count = good.final_kol_vo ? good.final_kol_vo : good.kol_vo;\n      let quant = { amount: good.kol_vo, price: good.Price };\n      this.g_quants[code] = quant;\n    }\n  }\n\n  public changeQuant(code: string, action: string) {\n    var q: number = this.g_quants[code][\"amount\"];\n    var good = null;\n\n    for (var i = 0; i < this.order.goods.length; i++) {\n      if (this.order.goods[i].Code == code) {\n        good = this.order.goods[i];\n      }\n    }\n\n    if (action == \"plus\") {\n      var n_q = q + 1;\n\n      if (n_q > good.kol_vo) {\n        return false;\n      } else {\n        this.g_quants[code][\"amount\"] = n_q;\n      }\n    } else if (action == \"minus\") {\n      var n_q = q - 1;\n\n      if (n_q < 0) {\n        return false;\n      } else {\n        this.g_quants[code][\"amount\"] = n_q;\n      }\n    } else if (action == 'delete') {\n      this.g_quants[code][\"amount\"] = 0;\n    }\n    this.getSum();\n  }\n\n\n  public navBack() {\n    localStorage.removeItem(\"drawImg\");\n    this.router.navigate([\"/courier\"]);\n  }\n\n  public getStatus(): string {\n    return this.courier.getStatus(this.order);\n  }\n\n  public getBalnce() { }\n\n  public changeStatus() {\n    if (!this.changeWindow) {\n      this.changeWindow = true;\n    }\n  }\n\n  public close_window() {\n    this.changeWindow = false;\n  }\n\n  public selectStatus(id: number) {\n    this.selectedStatus = id;\n    if (id == 4 || id == 5) {\n      this.setQuants();\n      this.getSum();\n    }\n    if (id == 4) {\n      this.drawNeedle = false;\n    }\n  }\n\n\n  public sendPayCall(order: Order = this.order, newStatus = this.selectedStatus as number) {\n    if (this.network.type == 'none') {\n      //Если оффлайн\n      this.cache.getItem('syncRequests').then((syncRequests: Array<any>) => {\n        order = { ...{ phone_input: this.phone_input }, ...{ email_input: this.email_input }, ...{ quants: this.g_quants }, ...order, ...{ selectedPayment: this.selectedPayment }, ...{ selectedReason: this.selectedReason }, ...{ new_plan_date: this.new_plan_date }, ...{ commentText: this.commentText }, ...{ check: this.checkBase64Image } };\n        syncRequests && syncRequests.push({ order, newStatus });\n        this.cache.saveItem('syncRequests', syncRequests, 'delayedCalls').then(() => {\n          console.log(`sys:: Отложено изменение статуса на ${newStatus} для заказа ${order.client_id}`);\n          this.localModifyOrders(newStatus);\n          this.router.navigate(['courier']);\n        })\n      })\n    } else {\n      //Если онлайн\n      this.localModifyOrders(newStatus);\n      order = { ...{ phone_input: this.phone_input }, ...{ email_input: this.email_input }, ...{ quants: this.g_quants }, ...order, ...{ selectedPayment: this.selectedPayment }, ...{ selectedReason: this.selectedReason }, ...{ new_plan_date: this.new_plan_date }, ...{ commentText: this.commentText }, ...{ check: this.checkBase64Image } };\n      this.orderService.sendDelayedCall(order, newStatus);\n      this.router.navigate(['courier']);\n    }\n  }\n\n  public submitChange() {\n    let self = this;\n    this.storage.get('orders').then((orders) => {\n      orders?.map((order: Order) => {\n        if (String(order.id) == String(this.order.id)) {\n          order.status_id = this.selectedStatus;\n          this.data.saveOrders(orders);\n          this.data.orders.next(orders);\n        }\n      });\n    })\n    let noSkip = true;\n    switch (this.selectedStatus) {\n      case 4:\n        if (this.selectedReason != null) {\n          let new_plan_date = new Date(this.new_plan_date);\n\n          this.courier\n            .changeStatus(\n              this.selectedStatus,\n              String(this.order.id),\n              undefined,\n              this.selectedReason,\n              null,\n              null,\n              new_plan_date.toLocaleDateString()\n            )\n            .subscribe((data: any) => {\n              if (data.success == \"true\") {\n                self.changeWindow = false;\n                self.state$.state.next(\"init\");\n                self.selectedPayment = \"1\";\n                self.selectedReason = null;\n                self.selectedStatus = null;\n                self.router.navigate([\"courier\"]);\n                self.state$.updateWayInfo.next(\"0\");\n              }\n              localStorage.removeItem(\"drawImg\");\n            });\n        }\n        break;\n      case 5:\n        if (this.selectedPayment !== '2') {\n          noSkip = false\n        }\n        this.sys.doOCR(this.checkBase64Image, noSkip).then((recognizedData) => {\n          let text = (this.commentText ? this.commentText : \"\");\n          this.courier\n            .changeStatus(\n              this.selectedStatus,\n              String(this.order.id),\n              text,\n              undefined,\n              undefined,\n              this.selectedPayment,\n              '',\n              this.checkBase64Image,\n              recognizedData\n            )\n            .subscribe((data: any) => {\n              if (data.success == \"true\") {\n                self.changeWindow = false;\n                self.state$.state.next(\"init\");\n                self.selectedPayment = \"1\";\n                self.selectedReason = null;\n                self.selectedStatus = null;\n                if (!self.pay_access) {\n                  self.router.navigate([\"courier\"]);\n                }\n                self.initOrder();\n                self.state$.updateWayInfo.next(\"0\");\n              }\n              localStorage.removeItem(\"drawImg\");\n            });\n        })\n        break;\n      case 6:\n\n        if (this.selectedPayment !== '2') {\n          noSkip = false\n        }\n        this.sys.doOCR(this.checkBase64Image, noSkip).then((recognizedData) => {\n          this.courier\n            .changeStatus(\n              this.selectedStatus,\n              String(this.order.id),\n              undefined,\n              undefined,\n              this.g_quants,\n              this.selectedPayment,\n              '',\n              this.checkBase64Image,\n              recognizedData\n            )\n            .subscribe((data: any | null) => {\n              if (data?.success == \"true\") {\n                self.changeWindow = false;\n                self.state$.state.next(\"init\");\n                self.selectedPayment = \"1\";\n                self.selectedReason = null;\n                self.selectedStatus = null;\n                if (!self.pay_access) {\n                  self.router.navigate([\"courier\"]);\n                }\n                self.initOrder();\n                self.state$.updateWayInfo.next(\"0\");\n              } else {\n                this.sys.presentToast(\n                  \"Нет товаров в заказе\",\n                  \"danger\",\n                  \"Частичная доставка невозможна\"\n                );\n              }\n              localStorage.removeItem(\"drawImg\");\n            });\n        })\n        break;\n    }\n  }\n\n  public getSum() {\n    if (this.order) {\n      let price: number = 0;\n      let quants = this.g_quants;\n      for (let code in quants) {\n        price += quants[code][\"price\"] * quants[code][\"amount\"];\n      }\n\n      this.order.rur = price;\n    }\n  }\n\n  //подсчитывает сумму заказа\n  public getPrice(order: Order) {\n    if (order) {\n      let price: number = 0;\n      for (let i = 0; i < order.goods.length; i++) {\n        let good = order.goods[i];\n        price += Number(good.Price) * Number(good.kol_vo);\n      }\n      return price;\n    }\n  }\n\n  public selectPayment(item: string) {\n    this.selectedPayment = item;\n  }\n\n  public sendPay() {\n    let goods = this.order.goods;\n    let quants = this.g_quants;\n    let callback_url =\n      this.sys.proxy + \"https://mobile.postsrvs.ru/mobile/pay_callback.php\";\n    let products = [];\n\n    for (let code in quants) {\n      if (quants[code][\"amount\"] > 0) {\n        for (let i = 0; i < goods.length; i++) {\n          if (goods[i][\"Code\"] == code) {\n            let good_name = goods[i][\"Name\"];\n            let good_amount = quants[code][\"amount\"];\n            let good_price = Math.round(quants[code][\"price\"] * 100) / 100;\n            let pos = {\n              name: good_name,\n              price: good_price,\n              quantity: good_amount,\n            };\n            products.push(pos);\n          }\n        }\n      }\n    }\n\n    var purchase = { products: products };\n    console.log(\"goods_description\\n\", purchase);\n    var self = this;\n\n    if (this.pay_access) {\n\n      let order_data = {\n        apikey: String(this.pay_access_data.api_key),\n        login: String(this.pay_access_data.phone),\n        cashier_name:\n          String(this.pay_access_data.name) +\n          String(this.pay_access_data.phone),\n        purchase: purchase,\n        callback_url: callback_url,\n        mode: \"email\",\n        customer_email: this.email_input,\n        customer_phone: this.phone_input,\n        card_amount: '',\n        cash_amount: ''\n      };\n      if (self.selectedPayment == \"2\") {\n        order_data[\"card_amount\"] = \"#\";\n      } else {\n        order_data[\"cash_amount\"] = \"#\";\n      }\n\n      if (this.phone_input != \"\") {\n        order_data[\"customer_phone\"] = this.phone_input;\n      }\n\n      self.send_api_data(order_data);\n    }\n  }\n\n  //Получаем api key & login\n  public getPayData() {\n\n    let url = \"pay_order\";\n    let data = { action: \"getData\", orderId: this.clientId };\n    let self = this;\n    if (navigator.onLine) {\n      this.auth.sendPost(url, data).subscribe((res: any) => {\n        console.log(\"GET_PAY_DATA\", res);\n        if (res.success == \"true\") {\n          self.pay_access = true;\n          self.pay_access_data = res;\n        } else {\n          self.pay_access = false;\n        }\n      });\n    } else {\n      self.pay_access = false;\n    }\n  }\n\n  public send_api_data(api_data: any) {\n    let url = \"pay_order\";\n    let self = this;\n    this.order.rur = 0;\n\n    api_data.purchase.products.forEach((product: any) => {\n      this.order.rur += product.price * product.quantity;\n    });\n\n    var data = {\n      action: \"sendPay\",\n      orderData: api_data,\n      orderId: this.order.id,\n    };\n    if (navigator.onLine) {\n      this.auth.sendPost(url, data).subscribe((res: any) => {\n        self.submitChange();\n        self.checkPayment();\n        self.hide_status = true;\n      });\n    } else {\n      let requests: any[] = [];\n      this.cache.getItem('requests').then((req) => {\n        if (req !== undefined) {\n          requests = req;\n        }\n        requests.push({ url: url, data: data });\n        this.cache.saveItem('requests', requests);\n\n        self.submitChange();\n        self.checkPayment();\n        self.hide_status = true;\n      })\n\n    }\n  }\n\n\n  public checkPayment() {\n    var self = this;\n    this.state$.interval_1ss.pipe(takeUntil(this.$codeStop)).subscribe(() => {\n      self.ifPaid();\n      console.log(\"paid_iter\");\n    });\n  }\n\n  public ifPaid() {\n    var url = \"pay_order\";\n    var data = { action: \"checkPaid\", orderId: this.order.id };\n    var self = this;\n\n    this.auth.sendPost(url, data).subscribe((data) => {\n      if (data.success == \"true\" && data.barcode != null) {\n        self.barcode_flag = true;\n        self.barcode_url = data.barcode_url;\n        self.barcode = data.barcode;\n        self.$codeStop.next();\n        self.hide_status = true;\n      }\n    });\n  }\n\n  public enterPhone() {\n    if (this.showPhone) {\n      this.showPhone = false;\n      this.show_email = false;\n    } else {\n      this.showPhone = true;\n      this.show_email = true;\n    }\n  }\n\n\n\n  public initClientInfo() {\n    let mail_exp = /(?:([\\s.,]{1}))([a-z0-9_-]+\\.)*[a-z0-9_-]+@[a-z0-9_-]+(\\.[a-z0-9_-]+)*\\.[a-z]{2,6}/gm;\n    let infoStr = this.phone;\n    let mail = mail_exp.exec(infoStr);\n\n    if (mail != null) {\n      this.email_input = mail[0];\n    } else {\n      this.show_email = true;\n    }\n  }\n\n  public intentStart() {\n    this.state$.intentStart(this.coords);\n  }\n\n  public showRoute() {\n    this.sysMap.showRoute(this.order);\n\n  }\n\n  public doneOrder() {\n    let drawedImg = localStorage.drawImg;\n    if (this.drawNeedle && !drawedImg) {\n      this.drawBtn(this.drawNeedle);\n    } else {\n      if (this.selectedPayment == '2') {\n        this.sys.checkPhoto().then((imageData) => {\n          this.checkBase64Image = 'data:image/jpeg;base64,' + imageData;\n          this.sendPayCall();\n        });\n      } else {\n        this.sendPayCall();\n      }\n\n    }\n  }\n\n  public saveNote() {\n    localStorage.setItem(this.orderId, this.note);\n    this.sysMap.infoUpdated.next();\n  }\n\n  public tapBlock() {\n    this.openCompany = !this.openCompany;\n  }\n\n  public localModifyOrders(newStatus: number) {\n    let meta: Meta = {\n      label: 'localChanges'\n    };\n    this.storage.get('orders').then((orders) => {\n      orders?.map((order: Order) => {\n        if (order.id.toString() == this.order.id.toString()) {\n          order.status_id = newStatus;\n          this.data.saveOrders(orders).then(() => this.sysMap.infoUpdated.next(meta));\n          this.data.orders.next(orders);\n        }\n      });\n    })\n  }\n\n  public scanReturned() {\n    this.bs.scan().then((data) => {\n      const url = this.sys.proxy + 'https://mobile.postsrvs.ru/mobile/orders';\n      let data1 = {\n        \"orderId\": this.orderId,\n        \"box_barcode\": data.text,\n        \"action\": \"get_box\",\n        \"uuid\": this.device.uuid\n      };\n      this.http.post(url, data1).subscribe((res: string[]) => {\n        console.log(`sys:: ответ скана возврата: ${res}`);\n        this.changeQuant(res[0], 'delete')\n      })\n    })\n  }\n\n  async presentNotDeliveredModal() {\n    const modal = await this.modalController.create({\n      component: NotDeliveredComponent,\n      cssClass: 'done-order-modal',\n      componentProps: {\n        reasons: this.reasons\n      },\n      showBackdrop: true\n    });\n    await modal.present();\n    const details = await modal.onDidDismiss();\n    console.log('sys:: dismiss details: ', details);\n    this.selectedReason = details.data.selectedReason;\n    this.commentText = details.data.commentText;\n    details.data && this.doneOrder();\n  }\n\n  async presentDeliveredModal() {\n    const modal = await this.modalController.create({\n      component: DeliveredComponent,\n      cssClass: 'done-order-modal',\n      componentProps: {\n        goods: this.goods\n      },\n      showBackdrop: true\n    });\n    await modal.present();\n    const details = await modal.onDidDismiss();\n    console.log('sys:: dismiss details: ', details);\n    this.drawNeedle = details.data.drawNeedle;\n    this.selectedPayment = details.data.selectedPayment;\n    this.email_input = details.data.email_input;\n    this.phone_input = details.data.phone_input;\n    this.commentText = details.data.commentText;\n    if (details.data) {\n      this.doneOrder();\n    }\n\n  }\n}\n","<ion-header>\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-back-button></ion-back-button>\n    </ion-buttons>\n    <ion-title *ngIf='order'>{{order.client_id}}</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content *ngIf=\"order\">\n  <ion-list>\n    <ion-item>\n      <ion-label>\n        <div class='flex'>\n          <img src=\"../../../assets/a-b.svg\">\n          <div class='addresses'>\n            Адрес отправителя:\n            <p>{{order.company_address}}</p>\n            Адрес получателя:\n            <p>{{order.client_address}}</p>\n          </div>\n        </div>\n        <div class='client-id'>\n          Шифр: <span>{{order.client_id}} </span>\n        </div>\n      </ion-label>\n    </ion-item>\n    <ion-item class='datetime'>\n      <ion-label>\n        <div>\n          Дата доставки:\n          <p>\n            <span>\n              {{order.datetime_to | date: 'd.MM.yyyy'}}\n            </span>\n          </p>\n        </div>\n        <div class='time'>\n          Время доставки:\n          <p>\n            После <span>{{order.datetime_from | date: 'H:mm'}}</span> До\n            <span>{{order.datetime_to | date: 'H:mm'}}</span>\n          </p>\n        </div>\n      </ion-label>\n    </ion-item>\n    <ion-item>\n      <ion-label>\n        <div class='flex main-info'>\n          <div>\n            Имя: <span class='bold'>{{order.client_fio}} </span><br>\n            Компания: <span class='bold'>{{order.client_name}} </span>\n          </div>\n          <div>\n            Робот прозвон:\n            <div class=\"st_state\" [ngClass]=\"{\n              'status_done' : order.client_status_id == 1,\n              'status_wait' : order.client_status_id == 2,\n              'status_fail' : order.client_status_id == 3,\n              'status_none' : order.client_status_id == 8,\n              'cl-status-voice' : order.client_status_id == 4 }\">\n              {{order.client_status}}\n            </div>\n          </div>\n          <div>\n            Сумма с клиента:\n            <div class='primary-color bold' *ngIf='order.rur'>\n              {{order.rur.toLocaleString('ru')}} р.\n            </div>\n          </div>\n          <div>\n            Количество / Вес\n            <div class='primary-color bold'>{{order.amount}} шт. / {{order.mass}} кг</div>\n          </div>\n        </div>\n        <ion-button id='call' expand='full' fill='solid' (click)=\"phoneClick('init')\">\n          Позвонить клиенту\n        </ion-button>\n      </ion-label>\n    </ion-item>\n    <ion-item class='yellow'>\n      <ion-label>\n        Статус: <span class='bold'>{{getStatus()}} </span>\n      </ion-label>\n    </ion-item>\n    <ion-item *ngIf=\"order.poruch\">\n      <ion-label>\n        Комментарий к заказу\n        <div class='bold'>\n          {{order.poruch}}\n        </div>\n      </ion-label>\n    </ion-item>\n    <ion-item>\n      <ion-label [@openClose]=\"openCompany ? 'open' : 'closed'\">\n        Компания отправитель:\n        <div class='bold'>\n          {{order.company}}\n        </div>\n        <ion-card id=\"company-card\">\n          <ion-item class=\"ion-activated\" *ngIf=\"order.Cname\">\n            <ion-label>\n              <h3>Ответственное лицо</h3>\n              {{order.Cname}}\n            </ion-label>\n          </ion-item>\n          <ion-item class=\"ion-activated\" *ngIf=\"order.Cadress\">\n            <ion-label>\n              <h3>Адрес</h3>\n              {{order.Cadress}}\n            </ion-label>\n          </ion-item>\n          <ion-item class=\"ion-activated\" *ngIf=\"order.Cphone\">\n            <ion-label>\n              <h3>Основной телефон</h3>\n              {{order.Cphone}}\n            </ion-label>\n          </ion-item>\n          <ion-item class=\"ion-activated\" *ngIf=\"order.Cphone_s\">\n            <ion-label>\n              <h3>Дополнительный телефон</h3>\n              {{order.Cphone_s}}\n            </ion-label>\n          </ion-item>\n        </ion-card>\n      </ion-label>\n      <div class=\"actions-button\" (click)=\"tapBlock()\">\n        <ion-icon src='../../../assets/actions-arrows.svg' [ngClass]=\"{turned: openCompany == true }\"></ion-icon>\n      </div>\n    </ion-item>\n    <ion-item id='note-item'>\n      <ion-input placeholder='Введите заметку по заказу' [(ngModel)]=\"note\"></ion-input>\n      <ion-button (click)=\"saveNote()\">\n        <ion-icon slot=\"icon-only\" name=\"save\"></ion-icon>\n      </ion-button>\n    </ion-item>\n  </ion-list>\n  <div id='navigate-buttons'>\n    <ion-button expand=\"block\" fill=\"solid\" shape=\"round\" (click)=\"intentStart()\" class='action'>\n      Открыть в навигаторе\n    </ion-button>\n    <ion-button expand=\"block\" fill=\"solid\" shape=\"round\" (click)=\"showRoute(order)\" class='action'>\n      Показать на карте\n    </ion-button>\n  </div>\n  <div id='done-buttons' *ngIf=\"!(hide_status || status_id == 5 || status_id == 6 || status_id == 4)\">\n    <ion-button expand=\"full\" fill=\"solid\" shape=\"round\" id='light-purple-button' class='action'\n      (click)=\"selectStatus(4); presentNotDeliveredModal()\">\n      <ion-icon slot=\"start\" name=\"close\"></ion-icon>\n      Не доставлено\n    </ion-button>\n    <ion-button expand=\"full\" fill=\"solid\" shape=\"round\" id='light-blue-button' class='action'\n      (click)=\"selectStatus(6)\">\n      <ion-icon slot=\"start\" src='../../../assets/pie-chart.svg'></ion-icon>\n      Частично доставлено\n    </ion-button>\n    <ion-button expand=\"full\" fill=\"solid\" shape=\"round\" id='light-green-button' class='action'\n      (click)=\"selectStatus(5); presentDeliveredModal()\">\n      <ion-icon slot=\"start\" name=\"checkmark-done\"></ion-icon>\n      Доставлено\n    </ion-button>\n  </div>\n  <!-- Легаси! -->\n  <div class=\"sc-row o-row\" *ngIf=\"selectedStatus == 6 ||order.status_id == 6\">\n    <div class=\"sc-goods-block\">\n      <div class=\"goods-row o-row\">\n        <div class=\"gr-title o-t\">Товары в заказе</div>\n\n        <div class=\"gr-goods-list\">\n          <div class=\"gr-head\">\n            <div class=\"gr-col\">Название</div>\n            <div class=\"gr-col\">Кол-во</div>\n            <div class=\"gr-col\">Цена</div>\n          </div>\n          <div *ngFor=\"let good of goods\">\n            <div class=\"gr-item\" [ngClass]=\"{\n                            'st_fail': (g_quants[good.Code]['amount'] == 0),\n                            'st_done': (order.status_id == 6 && g_quants[good.Code]['amount'] > 0 )\n                          }\">\n              <div class=\"gr-col\">{{good.Name}}</div>\n              <div class=\"gr-col gr-quant\">\n                <div (click)=\"changeQuant(good.Code,'minus')\">\n                  <i-feather name=\"minus-circle\"></i-feather>\n                </div>\n                {{g_quants[good.Code]['amount']}}\n                <div (click)=\"changeQuant(good.Code,'plus')\">\n                  <i-feather name=\"plus-circle\"></i-feather>\n                </div>\n              </div>\n              <div class=\"gr-col gr-price\">{{good.Price}}р.</div>\n            </div>\n          </div>\n          <div><b>Итого: </b>{{order.rur}}р.</div>\n        </div>\n      </div>\n    </div>\n    <ion-button (click)=\"scanReturned()\" expand=\"block\" fill=\"solid\" shape=\"round\"\n      *ngIf=\"selectedStatus == 6 ||order.status_id == 6\">\n      Сканировать возврат\n    </ion-button>\n  </div>\n  <div>\n\n    <!-- Блок подписи -->\n    <div class=\"draw\" *ngIf=\"selectedStatus == 6\">\n      <div class=\"asc-row\">\n        <div class=\"title\">Требуется ли подпись клиента?</div>\n        <div class=\"draw-btns\">\n          <button class=\"drawBtn\" [ngClass]=\"{'draw_btn_active'   : drawNeedle}\" (click)=\"drawBtn(true)\">\n            Да\n          </button>\n          <button class=\"drawBtn\" [ngClass]=\"{'draw_btn_active'   : !drawNeedle}\" (click)=\"drawBtn(false)\">\n            Нет\n          </button>\n        </div>\n      </div>\n      <img [src]=\"imageToShow\" alt=\"Подпись\" *ngIf=\"imageToShow && drawNeedle\" style=\"height: 200px;\" />\n      <button *ngIf=\"drawNeedle\" class=\"drawBtn changeDraw\" (click)=\"drawBtn(true)\">Изменить подпись</button>\n    </div>\n    <div class=\"sc-payment\" *ngIf=\"selectedStatus == 6\">\n      <div class=\"sc-payment__title\">Оплата</div>\n      <div class=\"dc-payment__wrp\">\n        <div class=\"sc-payment-item\" [ngClass]=\"{'payment_active' : selectedPayment == 1}\" (click)=\"selectPayment('1')\">\n          Наличными\n        </div>\n        <div class=\"sc-payment-item\" [ngClass]=\"{'payment_active' : selectedPayment == 2}\" (click)=\"selectPayment('2')\">\n          Картой\n        </div>\n      </div>\n    </div>\n\n    <div class=\"sc-payment-block o-row\" *ngIf=\"pay_access && (selectedStatus == 6)  \">\n      <div class=\"pb-email\" *ngIf=\"show_email\">\n        <div class=\"pb-email__title\">Email клиента</div>\n        <input type=\"email\" class=\"pb-email__input\" [(ngModel)]=\"email_input\" />\n      </div>\n      <div class=\"pb-phone\">\n        <div class=\"pb-phone__title\" *ngIf=\"showPhone\">Телефон клиента</div>\n        <input *ngIf=\"showPhone\" type=\"tel\" class=\"pb-phone__input\" [(ngModel)]=\"phone_input\" />\n      </div>\n      <button class=\"show-phone\" (click)=\"enterPhone()\">Прочее</button>\n    </div>\n    <div class=\"dt-picker\" *ngIf=\"selectedReason == 8\">\n      <ion-item>\n        <ion-label position=\"floating\">MM/DD/YYYY</ion-label>\n        <ion-datetime displayFormat=\"DD/MM/YYYY\" min=\"{{today.toISOString()}}\" value=\"{{tomorrow.toISOString()}}\"\n          [(ngModel)]='new_plan_date'></ion-datetime>\n      </ion-item>\n    </div>\n\n    <div class=\"sc-s-wrp\">\n      <button class=\"sc-submit\" (click)=\"doneOrder()\" *ngIf=\"selectedStatus\"\n        [ngClass]=\"{'c_t_del'   : selectedStatus == 5 || selectedStatus == 6}\">\n        <span *ngIf=\"selectedStatus == 5 || selectedStatus == 6\" class=\"l_btn_del\">Доставлено</span>\n      </button>\n    </div>\n  </div>\n  <!-- Конец Легаси -->\n  <div id=\"call-window\" *ngIf=\"callWindow\">\n    <div class=\"cw-body\">\n      <i-feather name=\"x-square\" (click)=\"phoneClick('init')\" size=\"large\"></i-feather>\n      <ion-list *ngIf=\"orderPhones.length > 1\">\n        <ion-radio-group name=\"selectedPhone\" [(ngModel)]=\"selectedPhone\">\n          <ion-list-header>\n            <ion-label>Выберите номер</ion-label>\n          </ion-list-header>\n          <ion-item *ngFor=\"let phone of orderPhones\">\n            <ion-radio value=\"{{phone}}\"></ion-radio>\n            <ion-label>{{phone}}</ion-label>\n          </ion-item>\n        </ion-radio-group>\n      </ion-list>\n      <button (click)=\"phoneClick('phone')\"\n        *ngIf=\"settings.rules.phoneMode == 'robotPhone' || settings.rules.phoneMode == 'phone' \">\n        Позвонить со своего телефона\n      </button>\n      <button (click)=\"phoneClick('operator')\"\n        *ngIf=\"settings.rules.phoneMode == 'robotPhone' || settings.rules.phoneMode == 'robot' \">\n        Позвонить через ip-шлюз\n      </button>\n    </div>\n  </div>\n</ion-content>"],"sourceRoot":"webpack:///"}