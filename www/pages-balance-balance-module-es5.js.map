{"version":3,"sources":["webpack:///src/app/components/balance/review/review.component.ts","webpack:///src/app/components/balance/review/review.component.html","webpack:///src/app/pages/balance/balance.module.ts","webpack:///src/app/pages/balance/balance.page.html","webpack:///src/app/pages/balance/balance.page.ts"],"names":["ReviewComponent","close_E","send_E","r_text","emit","close","send","selector","templateUrl","styleUrls","routes","path","component","BalancePageModule","forChild","imports","declarations","BalancePage","courier","auth","router","state$","alert","camera","AP","settings","sys","sysMap","firebase","info","pageInit","loader","local_stop$","confirmWindow","commentText","commentError","cashCheck","cashCheckData","openBtn","review_w","failsOrder","failsOrderNotFull","failOrdersCount","fo_comment","schedule","Boolean","rules","isShowSchedule","isGoToWork","isStopWork","nonWorkDates","notWorkRules","requestPermission","PERMISSION","ACCESS_FINE_LOCATION","map_state","next","self","updateInfo","initCashout","balance_check","interval_30","pipe","stop$","subscribe","getBalance","Number","userId","data","setUserProperty","name","ordersInfo","res_more","count_orders","ordersShortData","orders","checkAuth","success","getInfo","sync_id","filial","console","log","photo","url","sumNal","sendPost","resp","cashoutResult","checkCash","options","quality","destinationType","DestinationType","DATA_URL","encodingType","EncodingType","JPEG","mediaType","MediaType","PICTURE","getPicture","then","imageData","base64Image","sendCash","result","create","header","message","buttons","present","alert2","isFull","failOrders","ordersFail","flag","text","showError","navigate","navToSettings","display","animations"],"mappings":"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","file":"pages-balance-balance-module-es5.js","sourcesContent":["import { Component, OnInit, Output, EventEmitter } from '@angular/core';\n\n@Component({\n  selector: 'app-review',\n  templateUrl: './review.component.html',\n  styleUrls: ['./review.component.scss'],\n})\nexport class ReviewComponent implements OnInit {\n  @Output()\n  close_E = new EventEmitter();\n  @Output()\n  send_E = new EventEmitter<String>();\n\n  r_text:String = null;\n  constructor() { }\n\n  ngOnInit() {}\n\n  public close(){\n    this.close_E.emit();\n  }\n\n  public send(){\n    this.send_E.emit(this.r_text);\n  }\n\n}\n","<div class=\"rw-shirm\">\n  <div class=\"rw-window\">\n    <div class=\"rw-title\">\n      Отзыв о работе приложения\n      <i (click)=\"close()\">\n        <i-feather name=\"x-square\"></i-feather>\n      </i>\n    </div>\n    <div class=\"rw-body\">\n      <div class=\"rw-text\">\n        <div class=\"rw-text-title\">Введите текст отзыва</div>\n        <textarea [(ngModel)]=\"r_text\" cols=\"30\" rows=\"5\"></textarea>\n      </div>\n      <div class=\"rw-btns\">\n        <div class=\"btn-ok\" (click)=\"send()\">Отправить отзыв</div>\n      </div>\n    </div>\n  </div>\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ScrollingModule } from '@angular/cdk/scrolling';\nimport { IonicModule } from '@ionic/angular';\nimport { ReviewComponent } from '../../components/balance/review/review.component';\nimport { BalancePage } from './balance.page';\nimport {IconsModule} from '../../icons/icons.module'\nconst routes: Routes = [\n  {\n    path: '',\n    component: BalancePage\n  }\n];\n\n@NgModule({\n  imports: [\n    IconsModule,\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ScrollingModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [BalancePage, ReviewComponent]\n})\nexport class BalancePageModule {}\n","<ion-header>\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-button (click)=\"navToSettings()\">\n        <i-feather name=\"settings\"></i-feather>\n      </ion-button>\n    </ion-buttons>\n    <ion-title>Мои заказы</ion-title>\n    <ion-title size=\"small\" color=\"dark\">{{state$.filial}}</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n\n  <div class=\"o-body\" *ngIf=\"info\">\n    <cdk-virtual-scroll-viewport style=\"height: 100%;\" itemSize=\"auto\">\n      <div class=\"b-row\">\n        <div class=\"b-item b-title\">Имя курьера</div>\n        <div class=\"b-item\">{{info.name}}</div>\n      </div>\n      <div class=\"b-row\">\n        <div class=\"b-item b-title\">Общая сумма</div>\n        <div class=\"b-item\">{{info.sumAll}}р</div>\n      </div>\n      <div class=\"b-row\">\n        <div class=\"b-item b-title\">Оплачено по карте</div>\n        <div class=\"b-item\">{{info.sumCard}}р</div>\n      </div>\n      <div class=\"b-row\">\n        <div class=\"b-item b-title\">Оплачено наличными</div>\n        <div class=\"b-item\">{{info.sumNal}}р</div>\n      </div>\n      <div class=\"b-row\">\n        <div class=\"b-item b-title\">Всего заказов</div>\n        <div class=\"b-item\">{{info.ordersAll}}</div>\n      </div>\n      <div class=\"b-row\">\n        <div class=\"b-item b-title\">Заказов выполнено</div>\n        <div class=\"b-item\">{{info.ordersDone}}</div>\n      </div>\n      <div class=\"b-row\">\n        <div class=\"b-item b-title\">Частично доставлено</div>\n        <div class=\"b-item\">{{info.ordersSomeDone}}</div>\n      </div>\n      <div class=\"b-row\">\n        <div class=\"b-item b-title\">Заказов в работе</div>\n        <div class=\"b-item\">{{info.ordersInWork}}</div>\n      </div>\n      <div class=\"b-row\">\n        <div class=\"b-item b-title\">Заказов отменено</div>\n        <div class=\"b-item\">{{info.ordersFail}}</div>\n      </div>\n\n      <ion-img [src]=\"'data:image/jpg;base64,'+info.qr\"></ion-img>\n      <div class=\"lg-b-wrp\">\n        <button *ngIf=\"(info != null) && !cashCheck \" class=\"logout-btn\" (click)=\"cashOut()\">Сдать средства</button>\n        <div class=\"check-labl\" *ngIf=\"cashCheck\">\n          <div class=\"cl-body\">\n            <div class=\"cl-row\">\n              <div class=\"cl-r__title\">Средств сдано:</div>\n              <div class=\"cl-r_text\">{{cashCheckData.sum}}р.</div>\n            </div>\n            <div class=\"cl-row comment\">\n              <div class=\"cl-r__title\">Комментарий:</div>\n              <div class=\"cl-r_text\" *ngIf=\"cashCheckData.comment != null && cashCheckData.comment != ''\">\n                {{cashCheckData.comment}}\n              </div>\n            </div>\n          </div>\n        </div>\n        <button class=\"logout-btn review_btn\" (click)=\"writeReview()\">Отзыв о приложении</button>\n        <button class=\"logout-btn review_btn\" *ngIf=\"settings.rules.schedule\" (click)=\"showSchedule()\">\n          График работы\n        </button>\n      </div>\n    </cdk-virtual-scroll-viewport>\n  </div>\n  <div class=\"shirm\" *ngIf=\"loader\">\n    <ion-spinner name=\"lines-small\"></ion-spinner>\n  </div>\n  <div class=\"confirm-shirm\" *ngIf=\"info != null && !cashCheck && confirmWindow\">\n    <div class=\"confirm\" *ngIf=\"!openBtn && !failsOrder  \">\n      <div class=\"close-btn\" (click)=\"cashOut()\">\n        <i-feather name=\"x-circle\"></i-feather>\n      </div>\n      <div class=\"cf-qwe\">Вы сдаете <span class=\"cf-num\">{{info.sumNal}}</span> р. Верно?</div>\n      <div class=\"cf-comment\">\n        <div class=\"cf-comment-title\">Комментарий</div>\n        <textarea (input)=\"commentInput()\" [(ngModel)]=\"commentText\" cols=\"30\" rows=\"3\" class=\"sc-comment\"></textarea>\n        <span class=\"comment-er\" *ngIf=\"commentError\">Необходимо оставить комментарий</span>\n      </div>\n      <div class=\"cf-btns\">\n        <div class=\"cf-btn ok\" (click)=\"answer(true)\">Да</div>\n        <div class=\"cf-btn not\" (click)=\"answer(false)\">Нет</div>\n      </div>\n    </div>\n    <div class=\"confirm of-confirm\" *ngIf=\"failsOrder && !openBtn\">\n      <div class=\"close-btn\" (click)=\"cashOut()\">\n        <i-feather name=\"x-octagon\"></i-feather>\n      </div>\n      <div class=\"cf-qwe of-qwe\" *ngIf=\"!failsOrderNotFull\">\n        <span>Вы сдаете на склад</span> <span class=\"cf-num\">{{info.ordersFail}}</span> <span>заказов, верно?</span>\n      </div>\n      <div class=\"cf-comment of-comment\" *ngIf=\"failsOrderNotFull\">\n        <div class=\"cf-comment-title of-title\">Укажите, сколько заказов вы сдаете</div>\n        <input (input)=\"commentInput()\" [(ngModel)]=\"failOrdersCount\" class=\"sc-comment of-number\" type=\"number\" />\n        <div class=\"cf-comment-title\">Комментарий</div>\n        <textarea (input)=\"commentInput()\" [(ngModel)]=\"fo_comment\" cols=\"30\" rows=\"3\" class=\"sc-comment\"></textarea>\n        <span class=\"comment-er\" *ngIf=\"commentError\">Необходимо оставить комментарий и кол-во заказов</span>\n      </div>\n      <div class=\"cf-btns of-btns\">\n        <div class=\"cf-btn of-btn ok\" (click)=\"fo_answer(true)\">\n          <span *ngIf=\"!failsOrderNotFull\">Да</span> <span *ngIf=\"failsOrderNotFull\">Назад</span>\n        </div>\n        <div class=\"cf-btn of-btn\" [ngClass]=\"{ 'not'  : !failsOrderNotFull}\" (click)=\"fo_answer(false)\">\n          <span *ngIf=\"!failsOrderNotFull\">Нет</span> <span *ngIf=\"failsOrderNotFull\">Сдать</span>\n        </div>\n      </div>\n    </div>\n    <div class=\"photo-btn\" *ngIf=\"openBtn\" (click)=\"getPhoto()\">Сфотографировать пломбу</div>\n  </div>\n  <app-review *ngIf=\"review_w\" (close_E)=\"writeReview()\" (send_E)=\"sendReview($event)\"></app-review>\n</ion-content>","import {\n  animate, state,\n  style,\n\n  transition, trigger\n} from '@angular/animations';\nimport { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AndroidPermissions } from '@ionic-native/android-permissions/ngx';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { FirebaseX } from '@ionic-native/firebase-x/ngx';\nimport { AlertController } from '@ionic/angular';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { Response } from 'src/app/interfaces/response';\nimport { AuthService } from '../../services/auth.service';\nimport { CourierService } from '../../services/courier.service';\nimport { SettingsService } from '../../services/settings.service';\nimport { StateService } from '../../services/state.service';\nimport { SysService } from '../../services/sys.service';\nimport { MapService } from './../../services/sys/map.service';\n\n\n@Component({\n  selector: 'app-balance',\n  templateUrl: './balance.page.html',\n  styleUrls: ['./balance.page.scss'],\n  animations: [\n    trigger('openClose', [\n      // ...\n      state('open', style({\n        display: 'flex',\n      })),\n      state('closed', style({\n        display: 'none',\n      })),\n      transition('open => closed', [\n        animate('0.5s')\n      ]),\n      transition('closed => open', [\n        animate('0.5s')\n      ]),\n    ]),\n    trigger('openBtn', [\n      // ...\n      state('open', style({\n        display: 'flex',\n      })),\n      state('closed', style({\n        display: 'none',\n      })),\n      transition('open => closed', [\n        animate('0.5s')\n      ]),\n      transition('closed => open', [\n        animate('0.5s')\n      ]),\n    ]),\n    trigger('closeConfirm', [\n      // ...\n      state('open', style({\n        display: 'grid',\n      })),\n      state('closed', style({\n        display: 'none',\n      })),\n      transition('open => closed', [\n        animate('0.5s')\n      ]),\n      transition('closed => open', [\n        animate('0.5s')\n      ]),\n    ])\n  ]\n})\nexport class BalancePage implements OnInit {\n  public info: Response = null;\n  public pageInit: boolean = false;\n  public loader = true;\n  public local_stop$: Subject<any> = new Subject();\n  public confirmWindow: boolean = false;\n  public commentText: any = null;\n  public commentError: boolean = false;\n  public cashCheck: boolean = false;\n  public cashCheckData: any = null;\n  public openBtn: boolean = false;\n  public review_w: boolean = false;\n  public failsOrder: boolean = false;\n  public failsOrderNotFull: boolean = false;\n  public failOrdersCount: number = 0;\n  public fo_comment: string = \"\"; //комментарий к частичной сдаче заказов\n  public schedule = Boolean(this.settings.rules.schedule);\n  public isShowSchedule: boolean = false;\n  public isGoToWork: boolean = false;\n  public isStopWork: boolean = false;\n  public nonWorkDates: Array<any> = [];\n  public notWorkRules = {};\n\n  constructor(private courier: CourierService,\n    private auth: AuthService,\n    private router: Router,\n    public state$: StateService,\n    private alert: AlertController,\n    private camera: Camera,\n    private AP: AndroidPermissions,\n    public settings: SettingsService,\n    public sys: SysService,\n    private sysMap: MapService,\n    private firebase: FirebaseX\n  ) {\n    this.AP.requestPermission(this.AP.PERMISSION.ACCESS_FINE_LOCATION);\n    if (this.info == null) {\n      this.loader = true;\n    } else {\n      this.loader = true;\n    }\n    this.state$.map_state.next('init');\n    let self = this;\n    self.updateInfo();\n    self.initCashout();\n    if (!this.state$.balance_check) {\n      this.state$.interval_30.pipe(takeUntil(this.state$.stop$)).subscribe(() => {\n        self.updateInfo();\n        self.initCashout();\n      });\n    }\n\n    this.initCashout();\n  }\n\n  ngOnInit() {\n    this.schedule = Boolean(this.settings.rules.schedule);\n    this.courier.getBalance(Number(this.auth.userId), 1).subscribe((data: any) => {\n      this.firebase.setUserProperty('courier', data.name);\n      this.courier.ordersInfo = data.res_more;\n      this.courier.count_orders(data.res_more);\n      this.courier.ordersShortData.next(data.res_more);\n      this.state$.orders.next(data.res_more);\n    });\n  }\n\n  ngOnDestroy() {\n    this.local_stop$.next(null);\n  }\n\n\n  public updateInfo() {\n    var self = this;\n\n    this.auth.checkAuth().subscribe((data: any) => {\n      if (data.success = 'true') {\n        self.getInfo(data.sync_id);\n      }\n    })\n  }\n\n  public getInfo(sync_id: number) {\n    var self = this;\n\n    this.courier.getBalance(sync_id).subscribe((data: any) => {\n      self.info = data;\n      self.pageInit = true;\n      self.loader = false;\n      this.state$.filial = data.filial;\n\n    });\n  }\n\n\n  public cashOut() {\n    console.log('sys::cashOut()');\n    console.log('sys::cashOut() info != null', this.info != null);\n    console.log('sys::cashOut() !cashCheck', !this.cashCheck);\n    this.confirmWindow = !this.confirmWindow;\n    console.log('sys::cashOut() confirmWindow', this.confirmWindow);\n    console.log('sys::cashOut() !openBtn && !failsOrder', !this.openBtn && !this.failsOrder);\n  }\n\n  public sendCash(photo: string) {\n    this.loader = true;\n\n    const url = 'orders';\n    let data = { 'action': 'cashout', 'sum': this.info.sumNal, 'image': photo, 'isFull': '', 'ordersCount': 0, 'comment': '', 'ordersComment': '' };\n\n    if (this.commentText != '' && this.commentText) {\n      data['isFull'] = '0';\n      data['comment'] = this.commentText;\n    } else {\n      data['isFull'] = '1';\n    }\n\n    if (this.failsOrderNotFull) {\n      data['ordersCount'] = this.failOrdersCount;\n      data['ordersComment'] = this.fo_comment;\n    }\n    console.log('o_c', data['ordersCount']);\n    console.log('ocm', data['ordersComment']);\n\n    var self = this;\n    this.auth.sendPost(url, data).subscribe((resp: any) => {\n      console.log('CASHOUT_RESPONSE', resp);\n      if (resp.success == 'true') {\n        self.cashoutResult(true);\n      } else {\n        self.cashoutResult(false);\n      }\n    })\n  }\n\n  public checkCash() {\n    var url = 'orders';\n    var data = { 'action': 'checkCashout' }\n\n    return this.auth.sendPost(url, data);\n  }\n\n  public initCashout() {\n    var self = this;\n    this.checkCash().subscribe((data: any) => {\n      if (data.success == 'true') {\n        self.cashCheck = true;\n        self.cashCheckData = data;\n      } else {\n        self.cashCheck = false;\n      }\n    })\n  }\n\n  public getPhoto() {\n    const options: CameraOptions = {\n      quality: 100,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.JPEG,\n      mediaType: this.camera.MediaType.PICTURE\n    }\n\n    var self = this;\n    this.camera.getPicture(options).then((imageData) => {\n      let base64Image = 'data:image/jpeg;base64,' + imageData;\n      console.log('image_str', base64Image);\n      self.sendCash(base64Image);\n    });\n  }\n\n  public async cashoutResult(result: boolean) {\n\n    if (result) {\n      const alert = await this.alert.create({\n        header: 'Сдача',\n        message: 'Средства успешно сданы',\n        buttons: ['OK']\n      });\n      await alert.present();\n      this.confirmWindow = false;\n      this.loader = false;\n    } else {\n      const alert2 = await this.alert.create({\n        header: 'Ошибка',\n        message: 'Ошибка сдачи средств',\n        buttons: ['OK']\n      });\n      await alert2.present();\n      this.confirmWindow = false;\n      this.loader = false;\n    }\n  }\n\n  public answer(isFull: boolean) {\n    console.log('sys:: answer');\n    if (!isFull && (!this.commentText || this.commentText == '')) {\n      this.commentError = true;\n      return false;\n    }\n    this.failOrders();\n  }\n\n  //спрашивает, сколько заказов не сдано\n  public failOrders() {\n    console.log('sys:: failOrders');\n    if (this.info.ordersFail == 0) {\n      this.openBtn = true;\n      return false;\n    } else {\n      this.failsOrder = true;\n    }\n  }\n\n  public fo_answer(flag: boolean) {\n\n    if (!this.failsOrderNotFull) {\n      if (flag) {\n        this.failsOrderNotFull = false;\n        this.openBtn = true;\n      } else {\n        this.failsOrderNotFull = true;\n      }\n    } else {\n      if (flag) {\n        this.failsOrderNotFull = false;\n      } else {\n        if (this.failOrdersCount == 0 || this.fo_comment == \"\" || !this.fo_comment) {\n          this.commentError = true;\n        } else {\n          this.openBtn = true;\n        }\n      }\n    }\n  }\n\n  public commentInput() {\n    this.commentError = false;\n  }\n\n  //отзыв о приложении\n  public writeReview() {\n    this.review_w = !this.review_w;\n  }\n\n\n  public sendReview(text: String) {\n    this.loader = true;\n    let url = 'orders';\n    let data = {\n      'action': 'writeReview',\n      'text': text\n    }\n    let self = this;\n    this.auth.sendPost(url, data).subscribe((resp: any) => {\n      if (resp.success == 'true') {\n        self.auth.showError(7);\n      } else {\n        self.auth.showError(8);\n      }\n      self.review_w = false;\n      self.loader = false;\n    });\n  }\n\n  public showSchedule() {\n    this.router.navigate(['schedule']);\n  }\n\n  navToMap() {\n    this.router.navigate(['map'])\n  }\n\n  public navToSettings() {\n    this.sysMap.navigate(['version']);\n  }\n\n}\n"]}